var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;import{d as o,e as c,j as r,H as i,J as n,aN as u,aR as d,b2 as v,b1 as p,P as m,Q as f,f as b,o as h,c as w,a as y,n as C,aw as S,ay as g,q as L,F as k,g as O,t as P,R as j}from"./index.3fbdeb38.js";var x=o({name:"FooterToolbar",setup(){const e=c([200,150,100,50]),o=c(20),m=c(20),f=c(!1),b=c(!1),h=()=>{f.value=!1,document.removeEventListener("click",h,!1)},w=()=>({offsetX:d.getPanelOffsetX,offsetY:d.getPanelOffsetY});r((()=>u.canvas.scale),(e=>{const t=parseInt((100*e).toFixed(2));o.value=t,m.value=t}));const y=e=>{const t=e.target;if(!["input","textarea"].includes(t.tagName.toLowerCase())){const t=v();if(!t&&e.ctrlKey||t&&e.metaKey){const t=e.key.toLowerCase(),{setPanelState:a}=d;"arrowleft"===t?a({type:p.layer,value:!d.layer.show}):"arrowup"===t?a({type:p.components,value:!d.components.show}):"arrowright"===t?a({type:p.config,value:!d.config.show}):"a"===t&&u.autoCanvasScale(w),e.preventDefault()}}};return i((()=>{document.addEventListener("keydown",y,!1)})),n((()=>{document.removeEventListener("keydown",y,!1)})),{scaleList:e,scale:o,inputScale:m,visibleScaleList:f,showScaleList:()=>{f.value=!0,document.addEventListener("click",h,!1)},useSlider:b,submitScale:async e=>{-1===e?u.autoCanvasScale(w):u.setCanvasScale(((e,o)=>{for(var c in o||(o={}))a.call(o,c)&&l(e,c,o[c]);if(t)for(var c of t(o))s.call(o,c)&&l(e,c,o[c]);return e})({scale:0===e?m.value:e},w())),h()}}}});const E=j();m("data-v-b4bdc47a");const _=y("i",{class:"v-icon-keyboard shortcut-btn"},null,-1),V=y("div",{class:"shortcut-wp"},[y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"开关图层面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + ←")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"切换组件面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + ↑")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"切换右侧面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + →")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"画布缩放到最佳位置"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + a")])],-1),F={class:"scale-input-wp"},I=y("span",{class:"percent"},"%",-1),K={class:"scale-value-list"},N={class:"scale-slider-wp"};f();const R=E(((e,t,a,s,l,o)=>{const c=b("el-popover"),r=b("el-slider"),i=b("el-footer");return h(),w(i,{height:"32px",class:"bottom-sider"},{default:E((()=>[y(c,{width:"235",placement:"top",trigger:"hover","popper-class":"editor-popover"},{reference:E((()=>[_])),default:E((()=>[V])),_:1}),y("div",F,[C(y("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.inputScale=t),type:"number",class:"scale-input",onKeydown:t[2]||(t[2]=g((t=>e.submitScale(0)),["enter"]))},null,544),[[S,e.inputScale]]),I,y(c,{visible:e.visibleScaleList,width:"56",placement:"top",trigger:"click","popper-class":"editor-popover","show-arrow":!1,offset:8},{reference:E((()=>[y("i",{class:"v-icon-arrow-down open-icon",onClick:t[4]||(t[4]=L(((...t)=>e.showScaleList&&e.showScaleList(...t)),["stop"]))})])),default:E((()=>[y("div",K,[(h(!0),w(k,null,O(e.scaleList,(t=>(h(),w("div",{key:t,class:"scale-value-item",onClick:a=>e.submitScale(t)},P(`${t}%`),9,["onClick"])))),128)),y("div",{class:"scale-value-item",onClick:t[3]||(t[3]=t=>e.submitScale(-1))},"自适应")])])),_:1},8,["visible"])]),y("div",N,[y(r,{modelValue:e.scale,"onUpdate:modelValue":t[5]||(t[5]=t=>e.scale=t),min:10,max:200,step:5,"show-tooltip":!1,onChange:e.submitScale},null,8,["modelValue","onChange"])])])),_:1})}));x.render=R,x.__scopeId="data-v-b4bdc47a";export default x;
