var ge=Object.defineProperty;var _e=(e,o,n)=>o in e?ge(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var X=(e,o,n)=>(_e(e,typeof o!="symbol"?o+"":o,n),n);import{a4 as I,a8 as C,ab as t,aq as he,ar as fe,as as ve,av as Ee,ax as Pe,at as G,au as q,a2 as U,a$ as x,bd as ee,az as je,a7 as b,aF as T,be as z,b7 as oe,a3 as m,aa as ye,aY as r,b0 as g,aN as R,bf as te,a9 as S,ae as $,b1 as we,aG as De,bg as Ie,bh as K,ac as Y,ad as ne,bb as se,bc as re,ah as Ce,bi as be,ai as ae,af as $e,aQ as le}from"./vendor.577170a9.js";import{b as k,s as qe,j as Ge,k as Te,u as Oe,m as Me,n as Se,o as Fe,p as Ae,q as Re,g as ke}from"./App.7d9600e2.js";import{P as B,a as M}from"./project.9690eea6.js";import{a as Be,r as ie}from"./dom.17e5a3e2.js";import{I as ue}from"./warning.d73c71b1.js";import{I as Ne}from"./plus.f66c3531.js";import{I as ce}from"./edit.3ff5df3e.js";import{I as de}from"./delete.dfde7a3e.js";import{I as Je}from"./arrow-down.d4a99cf2.js";import{I as Le}from"./search.9e6a9cb8.js";import{I as Ve}from"./copy.082fcb74.js";import{I as Ze,P as Ue}from"./publish-screen.4bc8a7e4.js";import{I as ze}from"./release.9cf26f04.js";const Ke={},Ye={t:"1630857062919",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10285",width:"64",height:"64"},Qe=t("path",{d:"M551.94945106 18.47022933m0 41.4252247l0 230.6090477q0 41.42522469-41.42522469 41.42522469l0 0q-41.42522469 0-41.42522468-41.42522469l0-230.6090477q0-41.42522469 41.42522468-41.4252247l0 0q41.42522469 0 41.42522469 41.4252247Z","p-id":"10286"},null,-1),We=t("path",{d:"M569.11367575 56.46218189m-29.29205729 29.29205729l-112.74695896 112.74695896q-29.29205729 29.29205729-58.58411458 0l0 0q-29.29205729-29.29205729 0-58.58411459l112.74695895-112.74695895q29.29205729-29.29205729 58.58411459 0l0 0q29.29205729 29.29205729 0 58.58411458Z","p-id":"10287"},null,-1),He=t("path",{d:"M626.22181865 227.79508721m-29.29205731-29.2920573l-112.74696024-112.74696025q-29.29205729-29.29205729 0-58.58411459l0 0q29.29205729-29.29205729 58.58411459 0l112.74696026 112.74696025q29.29205729 29.29205729 0 58.58411459l0 0q-29.29205729 29.29205729-58.58411461 0Z","p-id":"10288"},null,-1),Xe=t("path",{d:"M472.05054894 1005.64627911m0-41.42522469l0-230.6090477q0-41.42522469 41.42522469-41.42522469l0 0q41.42522469 0 41.42522468 41.42522469l0 230.6090477q0 41.42522469-41.42522468 41.42522469l0 0q-41.42522469 0-41.42522469-41.42522469Z","p-id":"10289"},null,-1),xe=t("path",{d:"M454.90103538 967.64608812m29.29205729-29.2920573l112.74695897-112.74695896q29.29205729-29.29205729 58.58411458 0l0 0q29.29205729 29.29205729 0 58.58411459l-112.74695896 112.74695896q-29.29205729 29.29205729-58.58411459 0l0 0q-29.29205729-29.29205729 0-58.58411459Z","p-id":"10290"},null,-1),eo=t("path",{d:"M397.76498741 796.31166689m29.2920573 29.29205729l112.74695897 112.74695897q29.29205729 29.29205729 0 58.58411458l0 0q-29.29205729 29.29205729-58.58411459 0l-112.74695896-112.74695896q-29.29205729-29.29205729 0-58.58411459l0 0q29.29205729-29.29205729 58.58411458 0Z","p-id":"10291"},null,-1),oo=t("path",{d:"M18.40550242 472.10233047m41.42522469 0l230.60904771 0q41.42522469 0 41.42522468 41.4252247l0 0q0 41.42522469-41.42522468 41.42522468l-230.60904771 0q-41.42522469 0-41.42522469-41.42522468l0 0q0-41.42522469 41.42522469-41.4252247Z","p-id":"10292"},null,-1),to=t("path",{d:"M56.4079032 454.96332986m29.29205729 29.2920573l112.74695896 112.74696024q29.29205729 29.29205729 0 58.58411459l0 0q-29.29205729 29.29205729-58.5841146 0l-112.74695895-112.74696024q-29.29205729-29.29205729 0-58.58411459l0 0q29.29205729-29.29205729 58.58411459 0Z","p-id":"10293"},null,-1),no=t("path",{d:"M227.74248236 397.84047713m-29.2920573 29.29205729l-112.74696026 112.74695897q-29.29205729 29.29205729-58.58411458 0l0 0q-29.29205729-29.29205729 0-58.58411461l112.74696024-112.74695895q29.29205729-29.29205729 58.5841146 0l0 0q29.29205729 29.29205729 0 58.58411459Z","p-id":"10294"},null,-1),so=t("path",{d:"M1005.59449758 552.00123259m-41.42522469 0l-230.60904771 0q-41.42522469 0-41.42522468-41.42522469l0 0q0-41.42522469 41.42522468-41.4252247l230.60904771 0q41.42522469 0 41.42522469 41.4252247l0 0q0 41.42522469-41.42522469 41.42522469Z","p-id":"10295"},null,-1),ro=t("path",{d:"M967.57937278 569.16255363m-29.29205728-29.2920573l-112.74695896-112.74695894q-29.29205729-29.29205729 0-58.58411461l0 0q29.29205729-29.29205729 58.58411459 0l112.74695896 112.74695897q29.29205729 29.29205729 0 58.58411458l0 0q-29.29205729 29.29205729-58.58411459 0Z","p-id":"10296"},null,-1),ao=t("path",{d:"M796.25776749 626.28395649m29.2920573-29.29205731l112.74695895-112.74696025q29.29205729-29.29205729 58.5841146 0l0 0q29.29205729 29.29205729 0 58.58411458l-112.74695897 112.74696027q-29.29205729 29.29205729-58.58411458 0l0 0q-29.29205729-29.29205729 0-58.5841146Z","p-id":"10297"},null,-1),lo=t("path",{d:"M510.48539022 512.94501294m-82.85044939 0a82.85044939 82.85044939 0 1 0 165.70089878 0 82.85044939 82.85044939 0 1 0-165.70089878 0Z","p-id":"10298"},null,-1),io=[Qe,We,He,Xe,xe,eo,oo,to,no,so,ro,ao,lo];function uo(e,o){return I(),C("svg",Ye,io)}var co=k(Ke,[["render",uo]]),po=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,w=(e,o,n,a)=>{for(var l=a>1?void 0:a?mo(o,n):o,y=e.length-1,c;y>=0;y--)(c=e[y])&&(l=(a?c(o,n,l):c(l))||l);return a&&l&&po(o,n,l),l};he.rawError=!0;let E=class extends Ee{constructor(){super(...arguments);X(this,"allGroups",[])}get group(){const e=this.allGroups.flatMap(o=>o.children);return new B(-1,"\u5168\u90E8\u5E94\u7528",e)}get ungroup(){const e=this.allGroups.find(o=>o.type===M.ungroup);return e||new B(0,"\u672A\u5206\u7EC4",[])}get groups(){return this.allGroups.filter(e=>e.type===M.group)}SET_PROJECTS(e){this.allGroups=e}DELETE_PROJECT(e){const o=this.allGroups.find(n=>n.id===e.gid);o&&(o.children=o.children.filter(n=>n.id!==e.pid))}UPDATE_PROJECT_NAME(e){const o=this.allGroups.find(n=>n.id===e.id);o&&(o.name=e.newName)}MOVE_PROJECT(e){const{pid:o,fromId:n,toId:a}=e,l=this.allGroups.find(c=>c.id===n),y=this.allGroups.find(c=>c.id===a);if(l&&y){const c=l.children.findIndex(P=>P.id===o),d=l.children.splice(c,1)[0];d.groupId=a,y.children.push(d)}}COPY_PROJECT(e){const o=this.allGroups.find(n=>n.id===e.gid);if(o){const n=o.children.find(l=>l.id===e.pid),a=Pe(n);a.id=Math.round(Math.random()*1e3),a.name+="_copy",o.children.push(a)}}CREATE_PROJECT_GROUP(e){const o=new B(e.id,e.name,[]);o.type=M.group,this.allGroups.unshift(o)}DELETE_PROJECT_GROUP(e){const o=this.allGroups.findIndex(a=>a.id===e),n=this.allGroups.find(a=>a.type===M.ungroup);if(o>-1&&n){const[a]=this.allGroups.splice(o,1);a.children.forEach(l=>{l.groupId=n.id,n.children.push(l)})}}async getProjects(){try{const e=await Ge();if(e.data.code===0){const o=e.data.data||[],n=new B(0,"\u672A\u5206\u7EC4",[]);o.forEach(a=>{a.children.forEach(l=>{a.type===M.ungroup?(l.groupId=0,n.children.push(l)):l.groupId=a.id})}),this.SET_PROJECTS([n,...o.filter(a=>a.type===M.group)])}else throw Error(e.data.message)}catch(e){throw e}}async deleteProject(e){try{const o=await Te(e.pid);if(o.data.code===0)this.DELETE_PROJECT(e);else throw Error(o.data.message)}catch(o){throw o}}async updateProjectName(e){try{const o=await Oe(e.id,e.newName);if(o.data.code!==0)throw Error(o.data.message)}catch(o){throw o}}async moveProject(e){try{const{pid:o,fromId:n,toId:a}=e,l=await Me(o,n,a);if(l.data.code===0)this.MOVE_PROJECT(e);else throw Error(l.data.message)}catch(o){throw o}}async copyProject(e){try{const o=await Se(e.pid);if(o.data.code===0)this.COPY_PROJECT(e);else throw Error(o.data.message)}catch(o){throw o}}async createProjectGroup(e){try{const{data:o}=await Fe({name:e});if(o.code===0)this.CREATE_PROJECT_GROUP({id:o.data,name:e});else throw Error(o.message)}catch(o){throw o}}async deleteProjectGroup(e){try{const o=await Ae(e);if(o.data.code===0)this.DELETE_PROJECT_GROUP(e);else throw Error(o.data.message)}catch(o){throw o}}async updateProjectGroupName(e){try{const o=await Re(e.id,e.newName);if(o.data.code!==0)throw Error(o.data.message)}catch(o){throw o}}};w([G],E.prototype,"SET_PROJECTS",1);w([G],E.prototype,"DELETE_PROJECT",1);w([G],E.prototype,"UPDATE_PROJECT_NAME",1);w([G],E.prototype,"MOVE_PROJECT",1);w([G],E.prototype,"COPY_PROJECT",1);w([G],E.prototype,"CREATE_PROJECT_GROUP",1);w([G],E.prototype,"DELETE_PROJECT_GROUP",1);w([q],E.prototype,"getProjects",1);w([q],E.prototype,"deleteProject",1);w([q],E.prototype,"updateProjectName",1);w([q],E.prototype,"moveProject",1);w([q],E.prototype,"copyProject",1);w([q],E.prototype,"createProjectGroup",1);w([q],E.prototype,"deleteProjectGroup",1);w([q],E.prototype,"updateProjectGroupName",1);E=w([fe({dynamic:!0,store:qe,name:"project"})],E);const F=ve(E);const go="//files.pengxiaotian.com",_o=U({name:"MyScreen",components:{IconMove:co,IconCopy:Ve,IconDelete:de,IconEdit:ce,IconPreview:Ze,IconRelease:ze},props:{screen:{type:Object,required:!0}},setup(e){const o=x(),n=ee(),{deleteProject:a,copyProject:l,updateProjectName:y}=F,{id:c,name:d,groupId:P,share:_,thumbnail:u}=je(e.screen),f=b(d.value),D=b(d.value),s=T(()=>u.value?{"background-image":`url(${u.value})`}:{"background-image":`url(${ke.logo})`,"background-size":"50%","background-position":"center center","background-repeat":"no-repeat",filter:"grayscale(1)",opacity:.07}),v=T(()=>{const i=!!_.value;return{published:i,text:i?"\u5DF2\u53D1\u5E03":"\u672A\u53D1\u5E03"}}),O=async()=>{if(f.value)try{await y({id:c.value,newName:f.value}),d.value=f.value}catch(i){o.error(i.message)}else f.value=D.value},j=()=>{l({pid:c.value,gid:P.value})},N=()=>{const i=n.create({content:`${f.value} \u5220\u9664\u540E\u65E0\u6CD5\u6062\u590D\uFF0C\u786E\u8BA4\u5220\u9664\uFF1F`,negativeText:"\u53D6\u6D88",positiveText:"\u786E\u5B9A",iconPlacement:"top",icon:()=>oe(ue),onPositiveClick:async()=>{i.loading=!0;try{await a({pid:c.value,gid:P.value})}catch(h){o.error(h.message)}}})},J=z("dragStart"),L=z("dragEnd"),V=z("publish"),A=new Image;return A.src=`${go}/datav/drag-thumbnail.png`,{name:d,thumbnailStyle:s,publishState:v,screenName:f,oldScreenName:D,onInputBlur:O,confirmCopyProject:j,confirmDeleteProject:N,onDragStart:i=>{J();const h=i.dataTransfer;h&&(h.effectAllowed="move",h.setDragImage(A,30,30),h.setData("text",`${c.value},${P.value}`))},onDragEnd:()=>{L()},doPublish:()=>{V(c.value)}}}}),ho={class:"my-screen"},fo={class:"screen"},vo={class:"screen-info"},Eo={class:"screen-edit"},Po={class:"screen-button"},jo=we(" \u7F16\u8F91 "),yo={class:"main-button"},wo={class:"screen-main"},Do={class:"main-name"},Io={class:"screen-name-input"},Co={class:"publish-info"};function bo(e,o,n,a,l,y){const c=m("n-button"),d=m("router-link"),P=m("IconMove"),_=m("n-icon"),u=m("g-tooltip-popover"),f=m("IconCopy"),D=m("IconDelete"),s=m("IconPreview"),v=m("IconRelease"),O=m("IconEdit");return I(),C("div",ho,[t("div",fo,[t("div",vo,[t("div",{class:"screen-img",style:ye(e.thumbnailStyle)},null,4),t("div",Eo,[t("div",Po,[r(d,{to:{name:"ScreenEditor",params:{projectId:e.screen.id}},target:"_blank",class:"edit-wrap"},{default:g(()=>[r(c,{type:"primary",focusable:!1,class:"edit"},{default:g(()=>[jo]),_:1})]),_:1},8,["to"]),t("div",yo,[r(u,{content:"\u79FB\u52A8"},{default:g(()=>[t("span",{class:"button-span",draggable:"true",onDragstart:o[0]||(o[0]=(...j)=>e.onDragStart&&e.onDragStart(...j)),onDragend:o[1]||(o[1]=(...j)=>e.onDragEnd&&e.onDragEnd(...j))},[r(_,null,{default:g(()=>[r(P)]),_:1})],32)]),_:1}),r(u,{content:"\u590D\u5236"},{default:g(()=>[t("span",{class:"button-span",onClick:o[2]||(o[2]=(...j)=>e.confirmCopyProject&&e.confirmCopyProject(...j))},[r(_,null,{default:g(()=>[r(f)]),_:1})])]),_:1}),r(u,{content:"\u5220\u9664"},{default:g(()=>[t("span",{class:"button-span",onClick:o[3]||(o[3]=(...j)=>e.confirmDeleteProject&&e.confirmDeleteProject(...j))},[r(_,null,{default:g(()=>[r(D)]),_:1})])]),_:1})])]),r(d,{to:{name:"Preview",params:{screenId:e.screen.id}},target:"_blank",class:"preview"},{default:g(()=>[r(u,{content:"\u9884\u89C8"},{default:g(()=>[r(_,null,{default:g(()=>[r(s)]),_:1})]),_:1})]),_:1},8,["to"]),t("div",{class:"public",onClick:o[4]||(o[4]=(...j)=>e.doPublish&&e.doPublish(...j))},[r(u,{content:"\u53D1\u5E03"},{default:g(()=>[r(_,null,{default:g(()=>[r(v)]),_:1})]),_:1})])])]),t("div",wo,[t("div",Do,[r(u,{placement:"top-start",delay:1e3,content:e.screen.name},{default:g(()=>[t("div",Io,[r(_,null,{default:g(()=>[r(O)]),_:1}),R(t("input",{"onUpdate:modelValue":o[5]||(o[5]=j=>e.screenName=j),class:"input",onBlur:o[6]||(o[6]=(...j)=>e.onInputBlur&&e.onInputBlur(...j))},null,544),[[te,e.screenName,void 0,{trim:!0}]])])]),_:1},8,["content"]),t("div",Co,[t("span",{class:S(["dot",{published:e.publishState.published}])},null,2),t("span",null,$(e.publishState.text),1)])])])])])}var $o=k(_o,[["render",bo],["__scopeId","data-v-21541ddc"]]);const qo="//files.pengxiaotian.com",Go=U({name:"ProjectList",components:{MyScreen:$o,PublishScreen:Ue,IconSearch:Le,IconArrowDown:Je},props:{group:Object},setup(e){const o=b(""),n=b("name"),a={name:"\u6309\u540D\u79F0\u6392\u5E8F",createAt:"\u6309\u521B\u5EFA\u65F6\u95F4\u6392\u5E8F",updateAt:"\u6309\u4FEE\u6539\u65F6\u95F4\u6392\u5E8F"},l=Object.entries(a).map(([u,f])=>({key:u,label:f})),y=b(!1),c=b(0),d=De(e,"group"),P=u=>{n.value=u},_=T(()=>{let u=d.value?d.value.children:[];if(o.value){const f=o.value.toLowerCase();u=u.filter(D=>D.name.toLowerCase().includes(f))}return Ie(u,n.value)});return K("publish",u=>{y.value=!0,c.value=u}),{cdn:qo,searchText:o,sort:n,sorts:a,sortOpts:l,visiblePublish:y,publishAppId:c,screens:_,handleSortChange:P}}}),pe=e=>(se("data-v-14ceaa4e"),e=e(),re(),e),To=pe(()=>t("div",{class:"new-projects-title"},"\u9009\u62E9\u4E0B\u9762\u7684\u65B9\u5F0F\u8FDB\u884C\u521B\u5EFA",-1)),Oo={class:"new-projects"},Mo=["src"],So=pe(()=>t("span",{class:"project-type ellipsis"},"PC\u7AEF\u521B\u5EFA",-1)),Fo={class:"project-header"},Ao={class:"project-title"},Ro={class:"header-manager"},ko={class:"search"},Bo={class:"sort-type"},No=["title"],Jo={class:"main-screen"};function Lo(e,o,n,a,l,y){const c=m("router-link"),d=m("IconSearch"),P=m("n-icon"),_=m("IconArrowDown"),u=m("n-dropdown"),f=m("my-screen"),D=m("publish-screen");return I(),C("div",null,[To,t("div",Oo,[r(c,{to:{name:"CreateScreen"},target:"_blank",class:"new-project"},{default:g(()=>[t("img",{src:`${e.cdn}/datav/new-project.png`},null,8,Mo),So]),_:1})]),t("div",Fo,[t("div",Ao,[t("h2",null,$(e.group?e.group.name:""),1)]),t("div",Ro,[t("div",ko,[R(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.searchText=s),class:"search-input",placeholder:"\u641C\u7D22"},null,512),[[te,e.searchText,void 0,{trim:!0}]])]),r(P,{class:"icon-search"},{default:g(()=>[r(d)]),_:1}),r(u,{options:e.sortOpts,"show-arrow":!0,onSelect:e.handleSortChange},{default:g(()=>[t("div",Bo,[t("span",{class:"sort-text",title:e.sorts[e.sort]},$(e.sorts[e.sort]),9,No),r(P,{class:"icon-arrow"},{default:g(()=>[r(_)]),_:1})])]),_:1},8,["options","onSelect"])])]),t("div",Jo,[(I(!0),C(Y,null,ne(e.screens,s=>(I(),C("div",{key:s.id},[r(f,{screen:s},null,8,["screen"])]))),128))]),r(D,{modelValue:e.visiblePublish,"onUpdate:modelValue":o[1]||(o[1]=s=>e.visiblePublish=s),"project-id":e.publishAppId},null,8,["modelValue","project-id"])])}var Vo=k(Go,[["render",Lo],["__scopeId","data-v-14ceaa4e"]]);const Zo=U({name:"MyProject",components:{ProjectList:Vo,IconPlus:Ne,IconEdit:ce,IconDelete:de},setup(){const e=x(),o=ee(),{getProjects:n,moveProject:a,createProjectGroup:l,deleteProjectGroup:y,updateProjectGroupName:c}=F,d=b(-1),P=b(!0),_=b(!1),u=b(!1),f=T(()=>F.group),D=T(()=>F.ungroup),s=T(()=>F.groups),v=T(()=>d.value===-1?f.value:d.value===0?D.value:s.value.find(p=>p.id===d.value)),O=p=>{d.value=p},j=p=>{if(!_.value)return;(p.target.value||"").trim()||(_.value=!1)},N=async p=>{if(!_.value)return;const i=(p.target.value||"").trim();if(i)try{await l(i),_.value=!1}catch(h){e.error(h.message)}else _.value=!1},J=(p,i)=>{if(!i.editing)return;const h=(p.target.value||"").trim();(!h||i.name===h)&&(i.editing=!1)},L=async(p,i)=>{if(!i.editing)return;const h=(p.target.value||"").trim();if(h&&i.name!==h)try{await c({id:i.id,newName:h}),i.name=h,i.editing=!1}catch(Z){e.error(Z.message)}else i.editing=!1},V=p=>{const i=o.create({content:`${p.name} \u5220\u9664\u540E\u65E0\u6CD5\u6062\u590D\uFF0C\u8BE5\u5206\u7EC4\u4E2D\u7684\u53EF\u89C6\u5316\u5E94\u7528\u5C06\u5168\u90E8\u79FB\u52A8\u5230\u672A\u5206\u7EC4\uFF0C\u786E\u8BA4\u5220\u9664\uFF1F`,negativeText:"\u53D6\u6D88",positiveText:"\u786E\u5B9A",iconPlacement:"top",icon:()=>oe(ue),onPositiveClick:async()=>{i.loading=!0;try{await y(p.id),O(D.value.id)}catch(h){e.error(h.message)}}})};K("dragStart",()=>{u.value=!0}),K("dragEnd",()=>{u.value=!1});const A=p=>{Be(p.target,"drag-enter")},Q=p=>{ie(p.target,"drag-enter")},W=(p,i)=>{p.preventDefault(),ie(p.target,"drag-enter");const h=p.dataTransfer.getData("text");if(h){const[Z,H]=h.split(",").map(me=>parseInt(me));H!==i.id&&a({pid:Z,fromId:H,toId:i.id})}};return Ce(()=>{n().finally(()=>{P.value=!1})}),{loading:P,group:f,ungroup:D,groups:s,selectedGroup:v,selectedGroupId:d,adding:_,toggleProject:O,onAddInputBlur:j,addGroup:N,onEditInputBlur:J,editGroup:L,confirmDeleteGroup:V,draging:u,onDragEnter:A,onDragLeave:Q,onDrop:W}}}),Uo=e=>(se("data-v-341f7b00"),e=e(),re(),e),zo={class:"my-project"},Ko={class:"project-main"},Yo={class:"project-manage"},Qo={class:"manage-title"},Wo={class:"my-project project-group"},Ho=Uo(()=>t("span",{style:{"margin-left":"2px"}},"\u6211\u7684\u5206\u7EC4",-1)),Xo={class:"project-num"},xo={key:0,class:"new-group"},et={class:"project-name project-ungrouped"},ot={class:"project-num"},tt=["onClick","onDrop"],nt=["default-value","onBlur","onKeyup"],st={class:"project-name"},rt={class:"project-num"},at={class:"group-btns"},lt={class:"project-screen-list"};function it(e,o,n,a,l,y){const c=m("IconPlus"),d=m("n-icon"),P=m("IconEdit"),_=m("IconDelete"),u=m("project-list"),f=m("g-loading"),D=be("focus");return I(),C("div",zo,[t("div",Ko,[t("div",Yo,[t("div",Qo,[t("div",Wo,[Ho,r(d,{class:"btn-add-icon",onClick:o[0]||(o[0]=s=>e.adding=!0)},{default:g(()=>[r(c)]),_:1})]),t("div",{class:S(["my-project project-all",{"project-checked-color":e.selectedGroupId===e.group.id}]),onClick:o[1]||(o[1]=s=>e.toggleProject(e.group.id))},[t("span",null,$(e.group.name),1),t("span",Xo,$(e.group.children.length),1)],2),e.adding?(I(),C("div",xo,[R(t("input",{class:"edit-input",onBlur:o[2]||(o[2]=(...s)=>e.onAddInputBlur&&e.onAddInputBlur(...s)),onKeyup:o[3]||(o[3]=ae((...s)=>e.addGroup&&e.addGroup(...s),["enter"]))},null,544),[[D]])])):$e("",!0)]),t("div",{class:S(["manage-main",{draging:e.draging}])},[t("div",{class:S(["main-project",{"project-checked-color":e.selectedGroupId===e.ungroup.id}]),onClick:o[4]||(o[4]=s=>e.toggleProject(e.ungroup.id)),onDragover:o[5]||(o[5]=le(()=>{},["prevent"])),onDragenter:o[6]||(o[6]=(...s)=>e.onDragEnter&&e.onDragEnter(...s)),onDragleave:o[7]||(o[7]=(...s)=>e.onDragLeave&&e.onDragLeave(...s)),onDrop:o[8]||(o[8]=s=>e.onDrop(s,e.ungroup))},[t("span",et,$(e.ungroup.name),1),t("span",ot,$(e.ungroup.children.length),1)],34),(I(!0),C(Y,null,ne(e.groups,s=>(I(),C("div",{key:s.id,class:S(["main-project group-project",{"project-checked-color":e.selectedGroupId===s.id}]),onClick:v=>e.toggleProject(s.id),onDragover:o[9]||(o[9]=le(()=>{},["prevent"])),onDragenter:o[10]||(o[10]=(...v)=>e.onDragEnter&&e.onDragEnter(...v)),onDragleave:o[11]||(o[11]=(...v)=>e.onDragLeave&&e.onDragLeave(...v)),onDrop:v=>e.onDrop(v,s)},[s.editing?R((I(),C("input",{key:0,"default-value":s.name,class:"edit-input",onBlur:v=>e.onEditInputBlur(v,s),onKeyup:ae(v=>e.editGroup(v,s),["enter"])},null,40,nt)),[[D]]):(I(),C(Y,{key:1},[t("span",st,$(s.name),1),t("span",rt,$(s.children.length),1),t("span",at,[r(d,{size:14,onClick:v=>s.editing=!0},{default:g(()=>[r(P)]),_:2},1032,["onClick"]),r(d,{size:14,class:"btn-add-icon",onClick:v=>e.confirmDeleteGroup(s)},{default:g(()=>[r(_)]),_:2},1032,["onClick"])])],64))],42,tt))),128))],2)]),t("div",lt,[r(f,{spinning:e.loading},{default:g(()=>[r(u,{group:e.selectedGroup},null,8,["group"])]),_:1},8,["spinning"])])])])}var wt=k(Zo,[["render",it],["__scopeId","data-v-341f7b00"]]);export{wt as default};
