import{a as E,H as b,a9 as f}from"./AppRoot.9161bc33.js";import{c as C,b as B}from"./config.3c16c364.js";import{a4 as k,bd as g,a5 as c,aa as h,ad as o,aX as s,ah as F,a$ as _,ba as A,bb as y,a6 as v,b0 as m}from"./vendor.1c7e0fbb.js";const S=k({name:"DsApiEditor",setup(){const e=b(),t=g(C),{apiDataConfig:u}=g(B),d=Object.keys(f).map(a=>({label:a,value:a})),l=Object.keys(e.publishersView);return{ApiRequestMethod:f,apiDataConfig:u,apiMethods:d,variables:l,updateData:a=>{u.value.config.api=a.value,e.setSubscribersView(t.value.id,a.value)},updateApiHeaders:a=>{u.value.config.apiHeaders=a.value},updateApiBody:a=>{u.value.config.apiBody=a.value}}}}),i=e=>(A("data-v-b4507a40"),e=e(),y(),e),w={class:"ds-wrapper ds-api"},H=i(()=>o("p",null,"\u8BF7\u6C42\u65B9\u5F0F",-1)),j={class:"datav-new-select-wp"},M=i(()=>o("p",{class:"url-info"},[o("label",{class:"prefix-label textarea-label"},"URL\uFF1A"),o("a",{target:"_blank",rel:"noopener noreferrer",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS",class:"api-help"},"\u91CD\u8981\uFF1A\u8DE8\u57DF\u95EE\u9898\u89E3\u51B3\u65B9\u6848")],-1)),I=i(()=>o("p",{class:"url-info-text"}," \u5C06\u56DE\u8C03\u53C2\u6570\u914D\u7F6E\u5230url\u4E2D, \u4F8B: http://api.test?value=:value ",-1)),O={class:"post-request-data"},V=i(()=>o("p",{class:"url-info-text"},"Headers (Optional)",-1)),T={key:0,class:"post-request-data"},U=i(()=>o("p",{class:"url-info-text"},"POST \u8BF7\u6C42\u53C2\u6570",-1)),$=m(" \u670D\u52A1\u5668\u4EE3\u7406\u8BF7\u6C42 (\u56E0\u8DE8\u57DF\u65E0\u6CD5\u8BBF\u95EE\u65F6\u53EF\u52FE\u9009) "),q=m(" \u9700\u8981 cookie (\u4E0D\u9009\u62E9\u4EE3\u7406\u5E76\u4E14\u9700\u8981\u83B7\u53D6cookie\u65F6\u4F7F\u7528) ");function N(e,t,u,d,l,D){const r=c("n-select"),p=c("g-monaco-editor"),a=c("n-checkbox");return v(),h("div",w,[H,o("div",j,[s(r,{value:e.apiDataConfig.config.apiMethod,"onUpdate:value":t[0]||(t[0]=n=>e.apiDataConfig.config.apiMethod=n),options:e.apiMethods,class:"datav-new-select"},null,8,["value","options"])]),M,I,s(p,{language:"plaintext","line-numbers":"off",height:120,code:e.apiDataConfig.config.api,completions:e.variables,onBlur:e.updateData},null,8,["code","completions","onBlur"]),o("div",O,[V,s(p,{language:"json",height:120,"auto-format":!0,code:e.apiDataConfig.config.apiHeaders,onBlur:e.updateApiHeaders},null,8,["code","onBlur"])]),e.apiDataConfig.config.apiMethod===e.ApiRequestMethod.POST?(v(),h("div",T,[U,s(p,{language:"json",height:120,"auto-format":!0,code:e.apiDataConfig.config.apiBody,onBlur:e.updateApiBody},null,8,["code","onBlur"])])):F("",!0),s(a,{checked:e.apiDataConfig.config.local,"onUpdate:checked":t[1]||(t[1]=n=>e.apiDataConfig.config.local=n),class:"ds-checkbox"},{default:_(()=>[$]),_:1},8,["checked"]),s(a,{checked:e.apiDataConfig.config.cookie,"onUpdate:checked":t[2]||(t[2]=n=>e.apiDataConfig.config.cookie=n),class:"ds-checkbox"},{default:_(()=>[q]),_:1},8,["checked"])])}var z=E(S,[["render",N],["__scopeId","data-v-b4507a40"]]);export{z as default};
