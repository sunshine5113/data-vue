var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,i=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&o(e,t,a[t]);return e},r=(e,l)=>a(e,t(l));import{H as c,J as d,K as p,as as m,v as u,at as f,aq as b,N as g,P as h,Q as v,R as y,T as x,W as w,X as j,ab as k,ac as O,_ as P,af as V,$ as C}from"./index.a76048c3.js";import{c as _,a as T}from"./index.d92ff61b.js";import"./editor.worker.3eb73e22.js";import"./dom.1228cadc.js";var D=c({name:"ComponentsPanel",setup(){const e=d(""),a=d([]),t=p((()=>m.components.show)),l=p((()=>{const e=u(T),t={type:"all",name:"全部",icon:"v-icon-app"};return e.forEach((e=>{e.expand="",e.data.length>1?e.data.unshift(r(i({},t),{data:e.data.flatMap((e=>e.data))})):(e.expand="all",Object.assign(e.data[0],t))})),e.push({type:"favorite",name:"收藏",icon:"v-icon-favorite",data:[r(i({},t),{data:a.value})],expand:"all"}),e}));return{searchText:e,favoriteComs:a,visiblePanel:t,changeVisible:()=>{m.setPanelState({type:f.components,value:!t.value})},categories:l,toAddCom:(e,a)=>{if(a){const{pageConfig:a}=b,t=_(e);t.attr.x=Math.floor((a.width-t.attr.w)/2),t.attr.y=Math.floor((a.height-t.attr.h)/2),b.addCom(t)}else g.warning("正在开发中。。。")},dragStart:(e,a)=>{e.dataTransfer.setData("text",a);const t=e.target.childNodes[0];e.dataTransfer.setDragImage(t,t.clientWidth/2,t.clientHeight/2)}}}});const S=C();h("data-v-658714d7");const I={class:"components-panel"},M={class:"panel-title"},U=j("span",{class:"panel-text"},"组件列表",-1),A={class:"collpase-hd-text"},E={class:"menu-list"},H={class:"menu-item-text"},N={key:0,class:"favorite-empty"},W={class:"com-search-wp"};v();const $=S(((e,a,t,l,s,n)=>{const o=y("el-tooltip"),i=y("el-collapse-item"),r=y("el-collapse"),c=y("el-tab-pane"),d=y("el-tabs"),p=y("el-input"),m=y("el-aside");return x(),w(m,{width:"auto",class:["component-panel-wp",{"--hide":!e.visiblePanel}]},{default:S((()=>[j("div",I,[j("div",M,[U,j("i",{class:"v-icon-back close-btn",onClick:a[1]||(a[1]=(...a)=>e.changeVisible&&e.changeVisible(...a))})]),j(d,{"tab-position":"left"},{default:S((()=>[(x(!0),w(k,null,O(e.categories,(a=>(x(),w(c,{key:a.type},{label:S((()=>[j(o,{content:a.name,placement:"left",effect:"blue","open-delay":500,enterable:!1},{default:S((()=>[j("i",{class:["com-tab-icon",a.icon]},null,2)])),_:2},1032,["content"])])),default:S((()=>[j(r,{modelValue:a.expand,"onUpdate:modelValue":e=>a.expand=e,accordion:""},{default:S((()=>[(x(!0),w(k,null,O(a.data,(t=>(x(),w(i,{key:t.type,name:t.type},{title:S((()=>[j("i",{class:["collpase-hd-icon",t.icon]},null,2),j("span",A,P(t.name+" ("+t.data.length+")"),1)])),default:S((()=>[j("ul",E,[(x(!0),w(k,null,O(t.data,(a=>(x(),w("li",{key:a.name,title:a.alias,draggable:a.used,class:"menu-item",onDragstart:t=>e.dragStart(t,a.name),onClick:t=>e.toAddCom(a.name,a.used)},[j("div",{class:"menu-item-img",style:`background-image: url(${a.img});`},null,4),j("p",H,P(a.alias),1)],40,["title","draggable","onDragstart","onClick"])))),128))]),0===t.data.length?(x(),w(k,{key:0},["favorite"===a.type?(x(),w("div",N," 没有收藏组件 ")):V("",!0)],64)):V("",!0)])),_:2},1032,["name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024)))),128))])),_:1}),j("div",W,[j(p,{modelValue:e.searchText,"onUpdate:modelValue":a[2]||(a[2]=a=>e.searchText=a),placeholder:"搜索组件",size:"small",clearable:""},null,8,["modelValue"])])])])),_:1},8,["class"])}));D.render=$,D.__scopeId="data-v-658714d7";export default D;
