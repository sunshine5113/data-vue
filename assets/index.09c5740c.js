var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{d as o,e as c,j as r,H as i,J as n,aN as u,aR as d,a$ as v,a_ as p,P as m,Q as f,f as h,o as b,c as w,a as y,n as C,aw as S,ay as g,q as L,F as k,g as O,t as P,R as j}from"./index.60fabeb6.js";var x=o({name:"FooterToolbar",setup(){const e=c([200,150,100,50]),o=c(20),m=c(20),f=c(!1),h=c(!1),b=()=>{f.value=!1,document.removeEventListener("click",b,!1)},w=()=>({offsetX:d.getPanelOffsetX,offsetY:d.getPanelOffsetY});r((()=>u.canvas.scale),(e=>{const a=parseInt((100*e).toFixed(2));o.value=a,m.value=a}));const y=e=>{const a=e.target;if(!["input","textarea"].includes(a.tagName.toLowerCase())){const a=v();if(!a&&e.ctrlKey||a&&e.metaKey){const a=e.key.toLowerCase(),{setPanelState:t}=d;"arrowleft"===a?t({type:p.layer,value:!d.layer.show}):"arrowup"===a?t({type:p.components,value:!d.components.show}):"arrowright"===a?t({type:p.config,value:!d.config.show}):"a"===a&&u.autoCanvasScale(w),e.preventDefault()}}};return i((()=>{document.addEventListener("keydown",y,!1)})),n((()=>{document.removeEventListener("keydown",y,!1)})),{scaleList:e,scale:o,inputScale:m,visibleScaleList:f,showScaleList:()=>{f.value=!0,document.addEventListener("click",b,!1)},useSlider:h,submitScale:async e=>{-1===e?u.autoCanvasScale(w):u.setCanvasScale(((e,o)=>{for(var c in o||(o={}))t.call(o,c)&&l(e,c,o[c]);if(a)for(var c of a(o))s.call(o,c)&&l(e,c,o[c]);return e})({scale:0===e?m.value:e},w())),b()}}}});const _=j();m("data-v-b4bdc47a");const E=y("i",{class:"v-icon-keyboard shortcut-btn"},null,-1),V=y("div",{class:"shortcut-wp"},[y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"开关图层面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + ←")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"切换组件面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + ↑")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"切换右侧面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + →")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"画布缩放到最佳位置"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + a")])],-1),F={class:"scale-input-wp"},I=y("span",{class:"percent"},"%",-1),K={class:"scale-value-list"},N={class:"scale-slider-wp"};f();const R=_(((e,a,t,s,l,o)=>{const c=h("el-popover"),r=h("el-slider"),i=h("el-footer");return b(),w(i,{height:"32px",class:"bottom-sider"},{default:_((()=>[y(c,{width:"235",placement:"top",trigger:"hover","popper-class":"editor-popover"},{reference:_((()=>[E])),default:_((()=>[V])),_:1}),y("div",F,[C(y("input",{"onUpdate:modelValue":a[1]||(a[1]=a=>e.inputScale=a),type:"number",class:"scale-input",onKeydown:a[2]||(a[2]=g((a=>e.submitScale(0)),["enter"]))},null,544),[[S,e.inputScale]]),I,y(c,{visible:e.visibleScaleList,width:"56",placement:"top",trigger:"click","popper-class":"editor-popover","show-arrow":!1,offset:8},{reference:_((()=>[y("i",{class:"v-icon-arrow-down open-icon",onClick:a[4]||(a[4]=L(((...a)=>e.showScaleList&&e.showScaleList(...a)),["stop"]))})])),default:_((()=>[y("div",K,[(b(!0),w(k,null,O(e.scaleList,(a=>(b(),w("div",{key:a,class:"scale-value-item",onClick:t=>e.submitScale(a)},P(`${a}%`),9,["onClick"])))),128)),y("div",{class:"scale-value-item",onClick:a[3]||(a[3]=a=>e.submitScale(-1))},"自适应")])])),_:1},8,["visible"])]),y("div",N,[y(r,{modelValue:e.scale,"onUpdate:modelValue":a[5]||(a[5]=a=>e.scale=a),min:10,max:200,step:5,"show-tooltip":!1,onChange:e.submitScale},null,8,["modelValue","onChange"])])])),_:1})}));x.render=R,x.__scopeId="data-v-b4bdc47a";export default x;
