import{a as T,x as F,w as H,X as p}from"./AppRoot.9161bc33.js";import{o as L,b as V}from"./dom.6d6c7f4f.js";import{I as A}from"./warning.ce42dfb2.js";import{I as z}from"./edit.7daf2506.js";import{I as N}from"./delete.97a5a659.js";import{I as P}from"./copy.e2152bd3.js";import{I as X,a as W,b as j,c as q,d as G}from"./lock.aa598054.js";import{a6 as r,aa as v,ad as i,a4 as J,a_ as K,bc as O,bo as Q,ax as R,a5 as a,aX as e,a$ as m,ae as _,ac as Y,ah as Z,b6 as oo,b0 as u,ba as eo,bb as no}from"./vendor.1c7e0fbb.js";import{I as to}from"./show.4853371a.js";import{I as so}from"./hide.de3e7b30.js";import{u as co}from"./index.4d44cbc9.js";const io={},ao={t:"1640065966638",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4436",width:"64",height:"64"},mo=i("path",{d:"M512 90.125a225 225 0 0 1 225 225 28.125 28.125 0 0 1-56.25 0 168.75 168.75 0 0 0-337.3875-6.328125L343.25 315.125v112.5h450a56.25 56.25 0 0 1 56.25 56.25v365.625a56.25 56.25 0 0 1-56.25 56.25H230.75a56.25 56.25 0 0 1-56.25-56.25V483.875a56.25 56.25 0 0 1 56.25-56.25h56.25V315.125a225 225 0 0 1 225-225z m281.25 393.75H230.75v365.625h562.5V483.875z m-281.25 84.375a56.25 56.25 0 0 1 28.153125 104.9625L540.125 737a28.125 28.125 0 0 1-56.25 0v-63.7875A56.25 56.25 0 0 1 512 568.25z","p-id":"4437"},null,-1),uo=[mo];function lo(o,n){return r(),v("svg",ao,uo)}var ro=T(io,[["render",lo]]);const vo=J({name:"EditorContextMenu",components:{IconMoveUp:X,IconMoveDown:W,IconMoveTop:j,IconMoveBottom:q,IconLock:G,IconUnlock:ro,IconShow:to,IconHide:so,IconCopy:P,IconEdit:z,IconDelete:N},setup(){const o=K(),n=O(),x=F(),C=H(),{contextMenu:S,selectedCom:s,isLocked:I,isHided:c,contextMenuStyle:f}=co(),d=l=>{s.value&&x.moveCom(s.value.id,l)},k=()=>d(p.up),h=()=>d(p.down),M=()=>d(p.top),w=()=>d(p.bottom),D=()=>{s.value&&(s.value.locked=!s.value.locked)},y=()=>{s.value&&(s.value.hided=!s.value.hided)},E=()=>{const l=s.value;if(l){const U=n.create({content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u76841\u4E2A\u7EC4\u4EF6",negativeText:"\u53D6\u6D88",positiveText:"\u786E\u5B9A",iconPlacement:"top",icon:()=>oo(A),onPositiveClick:async()=>{U.loading=!0;try{await C.deleteCom(l)}catch($){o.error($.message)}}})}},B=()=>{s.value&&(s.value.renameing=!0)},t=()=>{s.value&&C.copyCom(s.value.id)},b=l=>l.preventDefault();return Q(()=>{L(document,"contextmenu",b)}),R(()=>{V(document,"contextmenu",b)}),{contextMenu:S,isLocked:I,isHided:c,contextMenuStyle:f,moveUp:k,moveDown:h,moveTop:M,moveBottom:w,lockCom:D,hideCom:y,toDeleteCom:E,renameCom:B,toCopyCom:t}}}),g=o=>(eo("data-v-d284c332"),o=o(),no(),o),po=u(" \u7F6E\u9876 "),_o=u(" \u7F6E\u5E95 "),Co=u(" \u4E0A\u79FB\u4E00\u5C42 "),Io=u(" \u4E0B\u79FB\u4E00\u5C42 "),fo=g(()=>i("div",{class:"context-menu-divider"},null,-1)),ko=u(" \u89E3\u9501 "),ho=u(" \u9501\u5B9A "),Mo=u(" \u663E\u793A "),wo=u(" \u9690\u85CF "),Do=g(()=>i("div",{class:"context-menu-divider"},null,-1)),yo=u(" \u91CD\u547D\u540D "),Eo=u(" \u590D\u5236 "),Bo=u(" \u5220\u9664 "),go=g(()=>i("div",{class:"context-menu-divider"},null,-1));function xo(o,n,x,C,S,s){const I=a("IconMoveTop"),c=a("n-icon"),f=a("IconMoveBottom"),d=a("IconMoveUp"),k=a("IconMoveDown"),h=a("IconUnlock"),M=a("IconLock"),w=a("IconShow"),D=a("IconHide"),y=a("IconEdit"),E=a("IconCopy"),B=a("IconDelete");return o.contextMenu.show?(r(),v("div",{key:0,class:"context-menu-wrap",style:Y(o.contextMenuStyle)},[i("div",{class:"context-menu-item",onClick:n[0]||(n[0]=(...t)=>o.moveTop&&o.moveTop(...t))},[e(c,{class:"menu-icon"},{default:m(()=>[e(I)]),_:1}),po]),i("div",{class:"context-menu-item",onClick:n[1]||(n[1]=(...t)=>o.moveBottom&&o.moveBottom(...t))},[e(c,{class:"menu-icon"},{default:m(()=>[e(f)]),_:1}),_o]),i("div",{class:"context-menu-item",onClick:n[2]||(n[2]=(...t)=>o.moveUp&&o.moveUp(...t))},[e(c,{class:"menu-icon"},{default:m(()=>[e(d)]),_:1}),Co]),i("div",{class:"context-menu-item",onClick:n[3]||(n[3]=(...t)=>o.moveDown&&o.moveDown(...t))},[e(c,{class:"menu-icon"},{default:m(()=>[e(k)]),_:1}),Io]),fo,i("div",{class:"context-menu-item",onClick:n[4]||(n[4]=(...t)=>o.lockCom&&o.lockCom(...t))},[o.isLocked?(r(),v(_,{key:0},[e(c,{class:"menu-icon"},{default:m(()=>[e(h)]),_:1}),ko],64)):(r(),v(_,{key:1},[e(c,{class:"menu-icon"},{default:m(()=>[e(M)]),_:1}),ho],64))]),i("div",{class:"context-menu-item",onClick:n[5]||(n[5]=(...t)=>o.hideCom&&o.hideCom(...t))},[o.isHided?(r(),v(_,{key:0},[e(c,{class:"menu-icon"},{default:m(()=>[e(w)]),_:1}),Mo],64)):(r(),v(_,{key:1},[e(c,{class:"menu-icon"},{default:m(()=>[e(D)]),_:1}),wo],64))]),Do,i("div",{class:"context-menu-item",onClick:n[6]||(n[6]=(...t)=>o.renameCom&&o.renameCom(...t))},[e(c,{class:"menu-icon"},{default:m(()=>[e(y)]),_:1}),yo]),i("div",{class:"context-menu-item",onClick:n[7]||(n[7]=(...t)=>o.toCopyCom&&o.toCopyCom(...t))},[e(c,{class:"menu-icon"},{default:m(()=>[e(E)]),_:1}),Eo]),i("div",{class:"context-menu-item",onClick:n[8]||(n[8]=(...t)=>o.toDeleteCom&&o.toDeleteCom(...t))},[e(c,{class:"menu-icon"},{default:m(()=>[e(B)]),_:1}),Bo]),go],4)):Z("",!0)}var No=T(vo,[["render",xo],["__scopeId","data-v-d284c332"]]);export{No as default};
