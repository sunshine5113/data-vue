import{b as m,ac as r,z as f}from"./App.7d9600e2.js";import{a2 as C,be as g,a3 as n,a4 as h,a8 as v,ab as t,aY as s,aa as B,af as k,b0 as _,bb as F,bc as A,b1 as b}from"./vendor.577170a9.js";const y=C({name:"DsApiEditor",setup(){const e=g("com"),o=g("apiDataConfig"),d=Object.keys(r).map(a=>({label:a,value:a})),p=Object.keys(f.variables.publishersView);return{ApiRequestMethod:r,apiDataConfig:o,apiMethods:d,variables:p,updateData:a=>{o.value.config.api=a.value,f.setSubscribersView({id:e.value.id,data:a.value})},updateApiHeaders:a=>{o.value.config.apiHeaders=a.value},updateApiBody:a=>{o.value.config.apiBody=a.value}}}}),i=e=>(F("data-v-951ff188"),e=e(),A(),e),w={class:"ds-wrapper ds-api"},S=i(()=>t("p",null,"\u8BF7\u6C42\u65B9\u5F0F",-1)),M={class:"datav-new-select-wp"},j=i(()=>t("p",{class:"url-info"},[t("label",{class:"prefix-label textarea-label"},"URL\uFF1A"),t("a",{target:"_blank",rel:"noopener noreferrer",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS",class:"api-help"},"\u91CD\u8981\uFF1A\u8DE8\u57DF\u95EE\u9898\u89E3\u51B3\u65B9\u6848")],-1)),H=i(()=>t("p",{class:"url-info-text"}," \u5C06\u56DE\u8C03\u53C2\u6570\u914D\u7F6E\u5230url\u4E2D, \u4F8B: http://api.test?value=:value ",-1)),O={class:"post-request-data"},V=i(()=>t("p",{class:"url-info-text"},"Headers (Optional)",-1)),T={key:0,class:"post-request-data"},U=i(()=>t("p",{class:"url-info-text"},"POST \u8BF7\u6C42\u53C2\u6570",-1)),q=b(" \u670D\u52A1\u5668\u4EE3\u7406\u8BF7\u6C42 (\u56E0\u8DE8\u57DF\u65E0\u6CD5\u8BBF\u95EE\u65F6\u53EF\u52FE\u9009) "),I=b(" \u9700\u8981 cookie (\u4E0D\u9009\u62E9\u4EE3\u7406\u5E76\u4E14\u9700\u8981\u83B7\u53D6cookie\u65F6\u4F7F\u7528) ");function N(e,o,d,p,D,E){const l=n("n-select"),a=n("g-monaco-editor"),c=n("n-checkbox");return h(),v("div",w,[S,t("div",M,[s(l,{value:e.apiDataConfig.config.apiMethod,"onUpdate:value":o[0]||(o[0]=u=>e.apiDataConfig.config.apiMethod=u),options:e.apiMethods,class:"datav-new-select",style:B({"--border":"var(--datav-gui-new-select-border)","--color":"var(--datav-gui-new-select-bgcolor)"})},null,8,["value","options","style"])]),j,H,s(a,{language:"plaintext","line-numbers":"off",height:120,code:e.apiDataConfig.config.api,completions:e.variables,onBlur:e.updateData},null,8,["code","completions","onBlur"]),t("div",O,[V,s(a,{language:"json",height:120,"auto-format":!0,code:e.apiDataConfig.config.apiHeaders,onBlur:e.updateApiHeaders},null,8,["code","onBlur"])]),e.apiDataConfig.config.apiMethod===e.ApiRequestMethod.POST?(h(),v("div",T,[U,s(a,{language:"json",height:120,"auto-format":!0,code:e.apiDataConfig.config.apiBody,onBlur:e.updateApiBody},null,8,["code","onBlur"])])):k("",!0),s(c,{checked:e.apiDataConfig.config.local,"onUpdate:checked":o[1]||(o[1]=u=>e.apiDataConfig.config.local=u),class:"ds-checkbox"},{default:_(()=>[q]),_:1},8,["checked"]),s(c,{checked:e.apiDataConfig.config.cookie,"onUpdate:checked":o[2]||(o[2]=u=>e.apiDataConfig.config.cookie=u),class:"ds-checkbox"},{default:_(()=>[I]),_:1},8,["checked"])])}var z=m(y,[["render",N],["__scopeId","data-v-951ff188"]]);export{z as default};
