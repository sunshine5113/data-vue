var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;import{d as o,e as c,j as r,K as i,N as n,aI as u,aN as d,a_ as v,aZ as p,C as m,D as f,f as h,o as b,c as w,a as y,n as C,ar as S,at as g,q as L,F as k,g as O,t as j,E as x}from"./index.5821c5f0.js";var E=o({name:"FooterToolbar",setup(){const e=c([200,150,100,50]),o=c(20),m=c(20),f=c(!1),h=c(!1),b=()=>{f.value=!1,document.removeEventListener("click",b,!1)},w=()=>({offsetX:d.getPanelOffsetX,offsetY:d.getPanelOffsetY});r((()=>u.canvas.scale),(e=>{const t=parseInt((100*e).toFixed(2));o.value=t,m.value=t}));const y=e=>{const t=e.target;if(!["input","textarea"].includes(t.tagName.toLowerCase())){const t=v();if(!t&&e.ctrlKey||t&&e.metaKey){const t=e.key.toLowerCase(),{setPanelState:a}=d;"arrowleft"===t?a({type:p.layer,value:!d.layer.show}):"arrowup"===t?a({type:p.components,value:!d.components.show}):"arrowright"===t?a({type:p.config,value:!d.config.show}):"a"===t&&u.autoCanvasScale(w),e.preventDefault()}}};return i((()=>{document.addEventListener("keydown",y,!1)})),n((()=>{document.removeEventListener("keydown",y,!1)})),{scaleList:e,scale:o,inputScale:m,visibleScaleList:f,showScaleList:()=>{f.value=!0,document.addEventListener("click",b,!1)},useSlider:h,submitScale:async e=>{-1===e?u.autoCanvasScale(w):u.setCanvasScale(((e,o)=>{for(var c in o||(o={}))a.call(o,c)&&l(e,c,o[c]);if(t)for(var c of t(o))s.call(o,c)&&l(e,c,o[c]);return e})({scale:0===e?m.value:e},w())),b()}}}});const P=x();m("data-v-b4bdc47a");const _=y("i",{class:"v-icon-keyboard shortcut-btn"},null,-1),I=y("div",{class:"shortcut-wp"},[y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"开关图层面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + ←")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"切换组件面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + ↑")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"切换右侧面板"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + →")]),y("div",{class:"shortcut-item"},[y("div",{class:"shortcut-title"},"画布缩放到最佳位置"),y("div",{class:"shortcut-value"},"Ctrl/Cmd + a")])],-1),K={class:"scale-input-wp"},V=y("span",{class:"percent"},"%",-1),F={class:"scale-value-list"},N={class:"scale-slider-wp"};f();const D=P(((e,t,a,s,l,o)=>{const c=h("el-popover"),r=h("el-slider"),i=h("el-footer");return b(),w(i,{height:"32px",class:"bottom-sider"},{default:P((()=>[y(c,{width:"235",placement:"top",trigger:"hover","popper-class":"editor-popover"},{reference:P((()=>[_])),default:P((()=>[I])),_:1}),y("div",K,[C(y("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.inputScale=t),type:"number",class:"scale-input",onKeydown:t[2]||(t[2]=g((t=>e.submitScale(0)),["enter"]))},null,544),[[S,e.inputScale]]),V,y(c,{visible:e.visibleScaleList,width:"56",placement:"top",trigger:"click","popper-class":"editor-popover","show-arrow":!1,offset:8},{reference:P((()=>[y("i",{class:"v-icon-arrow-down open-icon",onClick:t[4]||(t[4]=L(((...t)=>e.showScaleList&&e.showScaleList(...t)),["stop"]))})])),default:P((()=>[y("div",F,[(b(!0),w(k,null,O(e.scaleList,(t=>(b(),w("div",{key:t,class:"scale-value-item",onClick:a=>e.submitScale(t)},j(`${t}%`),9,["onClick"])))),128)),y("div",{class:"scale-value-item",onClick:t[3]||(t[3]=t=>e.submitScale(-1))},"自适应")])])),_:1},8,["visible"])]),y("div",N,[y(r,{modelValue:e.scale,"onUpdate:modelValue":t[5]||(t[5]=t=>e.scale=t),min:10,max:200,step:5,"show-tooltip":!1,onChange:e.submitScale},null,8,["modelValue","onChange"])])])),_:1})}));E.render=D,E.__scopeId="data-v-b4bdc47a";export default E;
