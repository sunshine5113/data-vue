import{a6 as w,aa as g,ad as t,a4 as k,a9 as z,aC as F,aB as x,aj as D,ax as K,a5 as h,aX as r,a$ as d,ac as E,aK as L,be as B,ak as A,ba as M,bb as P,ae as T,af as U,ag as V}from"./vendor.1c7e0fbb.js";import{a as I,C as X,w as H,x as N,W as O,V as y}from"./AppRoot.9161bc33.js";import{I as Y}from"./arrow-down.87090095.js";const j={},W={t:"1631033355676",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5531",width:"64",height:"64"},q=t("path",{d:"M974.11282027 682.14153813c23.10564053 0 42.010256-18.90461547 42.01025706-42.010256v-546.13333333c0-23.10564053-18.90461547-42.010256-42.01025706-42.010256H49.88717973c-23.10564053 0-42.010256 18.90461547-42.01025706 42.010256v546.13333333c0 23.10564053 18.90461547 42.010256 42.01025706 42.010256h924.22564054z m-882.21538454-84.020512v-462.11282133h840.20512854v462.11282133H91.89743573z m161.73948694-350.7856416c0 16.8041024-14.70358933 31.5076928-31.50769174 31.5076928h-21.00512853c-16.8041024 0-31.5076928-14.70358933-31.50769173-31.5076928v-21.00512853c0-16.8041024 14.70358933-31.5076928 31.50769173-31.50769173h21.00512853c16.8041024 0 31.5076928 14.70358933 31.50769174 31.50769173v21.00512853z m119.72923093-21.00512853c0-16.8041024-14.70358933-31.5076928-31.50769173-31.50769173h-21.00512854c-16.8041024 0-31.5076928 14.70358933-31.5076928 31.50769173v21.00512853c0 16.8041024 14.70358933 31.5076928 31.5076928 31.5076928h21.00512854c16.8041024 0 31.5076928-14.70358933 31.50769173-31.5076928v-21.00512853z m241.55897493 21.00512853c0 16.8041024-14.70358933 31.5076928-31.5076928 31.5076928h-21.00512853c-16.8041024 0-31.5076928-14.70358933-31.50769173-31.5076928v-21.00512853c0-16.8041024 14.70358933-31.5076928 31.50769173-31.50769173h21.00512853c16.8041024 0 31.5076928 14.70358933 31.5076928 31.50769173v21.00512853z m-121.829744 0c0 16.8041024-14.70358933 31.5076928-31.50769173 31.5076928h-21.00512853c-16.8041024 0-31.5076928-14.70358933-31.5076928-31.5076928v-21.00512853c0-16.8041024 14.70358933-31.5076928 31.5076928-31.50769173h21.00512853c16.8041024 0 31.5076928 14.70358933 31.50769173 31.50769173v21.00512853z m363.38871787-21.00512853c0-16.8041024-14.70358933-31.5076928-31.50769173-31.50769173h-21.00512854c-16.8041024 0-31.5076928 14.70358933-31.5076928 31.50769173v21.00512853c0 16.8041024 14.70358933 31.5076928 31.5076928 31.5076928h21.00512854c16.8041024 0 31.5076928-14.70358933 31.50769173-31.5076928v-21.00512853z m-121.82974293 0c0-16.8041024-14.70358933-31.5076928-31.5076928-31.50769173h-21.00512854c-16.8041024 0-31.5076928 14.70358933-31.50769173 31.50769173v21.00512853c0 16.8041024 14.70358933 31.5076928 31.50769173 31.5076928h21.00512854c16.8041024 0 31.5076928-14.70358933 31.5076928-31.5076928v-21.00512853z m-481.0174368 147.0358976c0 16.8041024-14.70358933 31.5076928-31.50769174 31.5076928h-21.00512853c-16.8041024 0-31.5076928-14.70358933-31.50769173-31.5076928v-21.00512747c0-16.8041024 14.70358933-31.5076928 31.50769173-31.5076928h21.00512853c16.8041024 0 31.5076928 14.70358933 31.50769174 31.5076928v21.00512747z m119.72923093-21.00512747c0-16.8041024-14.70358933-31.5076928-31.50769173-31.5076928h-21.00512854c-16.8041024 0-31.5076928 14.70358933-31.5076928 31.5076928v21.00512747c0 16.8041024 14.70358933 31.5076928 31.5076928 31.5076928h21.00512854c16.8041024 0 31.5076928-14.70358933 31.50769173-31.5076928v-21.00512747z m241.55897493 21.00512747c0 16.8041024-14.70358933 31.5076928-31.5076928 31.5076928h-21.00512853c-16.8041024 0-31.5076928-14.70358933-31.50769173-31.5076928v-21.00512747c0-16.8041024 14.70358933-31.5076928 31.50769173-31.5076928h21.00512853c16.8041024 0 31.5076928 14.70358933 31.5076928 31.5076928v21.00512747z m-121.829744 0c0 16.8041024-14.70358933 31.5076928-31.50769173 31.5076928h-21.00512853c-16.8041024 0-31.5076928-14.70358933-31.5076928-31.5076928v-21.00512747c0-16.8041024 14.70358933-31.5076928 31.5076928-31.5076928h21.00512853c16.8041024 0 31.5076928 14.70358933 31.50769173 31.5076928v21.00512747z m363.38871787-21.00512747c0-16.8041024-14.70358933-31.5076928-31.50769173-31.5076928h-21.00512854c-16.8041024 0-31.5076928 14.70358933-31.5076928 31.5076928v21.00512747c0 16.8041024 14.70358933 31.5076928 31.5076928 31.5076928h21.00512854c16.8041024 0 31.5076928-14.70358933 31.50769173-31.5076928v-21.00512747z m-121.82974293 0c0-16.8041024-14.70358933-31.5076928-31.5076928-31.5076928h-21.00512854c-16.8041024 0-31.5076928 14.70358933-31.50769173 31.5076928v21.00512747c0 16.8041024 14.70358933 31.5076928 31.50769173 31.5076928h21.00512854c16.8041024 0 31.5076928-14.70358933 31.5076928-31.5076928v-21.00512747z m-481.0174368 147.03589654c0 16.8041024-14.70358933 31.5076928-31.50769174 31.5076928h-21.00512853c-16.8041024 0-31.5076928-14.70358933-31.50769173-31.5076928v-21.00512747c0-16.8041024 14.70358933-31.5076928 31.50769173-31.5076928h21.00512853c16.8041024 0 31.5076928 14.70358933 31.50769174 31.5076928v21.00512747z m481.0174368-21.00512747c0-16.8041024-14.70358933-31.5076928-31.5076928-31.5076928H320.85333333c-16.8041024 0-31.5076928 14.70358933-31.5076928 31.5076928v21.00512747c0 16.8041024 14.70358933 31.5076928 31.5076928 31.5076928h382.29333334c16.8041024 0 31.5076928-14.70358933 31.5076928-31.5076928v-21.00512747z m121.82974293 0c0-16.8041024-14.70358933-31.5076928-31.50769173-31.5076928h-21.00512854c-16.8041024 0-31.5076928 14.70358933-31.5076928 31.5076928v21.00512747c0 16.8041024 14.70358933 31.5076928 31.5076928 31.5076928h21.00512854c16.8041024 0 31.5076928-14.70358933 31.50769173-31.5076928v-21.00512747zM346.05948693 747.25743573h331.88102614c10.50256427 0 16.8041024 12.60307733 8.4020512 21.00512854l-161.73948694 199.54871786c-6.30153813 6.30153813-18.90461547 6.30153813-23.1056416 0l-163.84-199.54871786c-6.30153813-8.4020512-2.10051307-21.00512853 8.4020512-21.00512854z","p-id":"5532"},null,-1),G=[q];function J(e,o){return w(),g("svg",W,G)}var Q=I(j,[["render",J]]);const R=k({name:"FooterToolbar",components:{IconKeyboard:Q,IconArrowDown:Y},setup(){const e=X(),o=H(),i=N(),b=z(20),p=z(20),S=[{label:"200%",value:200},{label:"150%",value:150},{label:"100%",value:100},{label:"50%",value:50},{label:"\u81EA\u9002\u5E94",value:-1}],m=F(()=>o.selectedCom),f=F(()=>i.pageConfig),u=()=>({offsetX:e.getPanelOffsetX,offsetY:e.getPanelOffsetY}),C=async s=>{if(s===-1)i.autoCanvasScale(u);else{const{offsetX:n,offsetY:_}=u();i.setCanvasScale(s===0?p.value:s,n,_)}};x(()=>i.canvas.scale,s=>{const n=parseInt((s*100).toFixed(2));b.value=n,p.value=n});const v=(s,n)=>{m.value.attr.y+=s,m.value.attr.x+=n},a=s=>{const n=s.target;if(!["input","textarea"].includes(n.tagName.toLowerCase())){const _=O(),c=s.key.toLowerCase();if(!_&&s.ctrlKey||_&&s.metaKey){s.preventDefault();const{setPanelState:l}=e;c==="arrowleft"?l(y.layer,!e.layer.show):c==="arrowup"?l(y.components,!e.components.show):c==="arrowright"?l(y.config,!e.config.show):c==="a"&&i.autoCanvasScale(u)}else if(m.value&&["arrowup","arrowright","arrowdown","arrowleft"].includes(c)){s.preventDefault();const{grid:l}=f.value;c==="arrowup"?v(-l,0):c==="arrowright"?v(0,l):c==="arrowdown"?v(l,0):c==="arrowleft"&&v(0,-l)}}};return D(()=>{document.addEventListener("keydown",a,!1)}),K(()=>{document.removeEventListener("keydown",a,!1)}),{scaleList:S,scale:b,inputScale:p,submitScale:C}}}),$=e=>(M("data-v-1d8b8ab3"),e=e(),P(),e),Z={class:"g-footer bottom-sider"},e0=$(()=>t("div",{class:"shortcut-wp"},[t("div",{class:"shortcut-item"},[t("div",{class:"shortcut-title"},"\u5F00\u5173\u56FE\u5C42\u9762\u677F"),t("div",{class:"shortcut-value"},"Ctrl/Cmd + \u2190")]),t("div",{class:"shortcut-item"},[t("div",{class:"shortcut-title"},"\u5207\u6362\u7EC4\u4EF6\u9762\u677F"),t("div",{class:"shortcut-value"},"Ctrl/Cmd + \u2191")]),t("div",{class:"shortcut-item"},[t("div",{class:"shortcut-title"},"\u5207\u6362\u53F3\u4FA7\u9762\u677F"),t("div",{class:"shortcut-value"},"Ctrl/Cmd + \u2192")]),t("div",{class:"shortcut-item"},[t("div",{class:"shortcut-title"},"\u753B\u5E03\u7F29\u653E\u5230\u6700\u4F73\u4F4D\u7F6E"),t("div",{class:"shortcut-value"},"Ctrl/Cmd + a")])],-1)),t0={class:"scale-input-wp"},s0=$(()=>t("span",{class:"percent"},"%",-1)),a0={class:"scale-value-list"},o0=["onClick"],c0={class:"scale-slider-wp"};function n0(e,o,i,b,p,S){const m=h("IconKeyboard"),f=h("n-icon"),u=h("n-popover"),C=h("IconArrowDown"),v=h("n-slider");return w(),g("div",Z,[r(u,{width:235,placement:"top",trigger:"hover",raw:"",style:E({"--n-color":"var(--datav-component-bg)"})},{trigger:d(()=>[r(f,{class:"shortcut-btn"},{default:d(()=>[r(m)]),_:1})]),default:d(()=>[e0]),_:1},8,["style"]),t("div",t0,[L(t("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.inputScale=a),type:"number",class:"scale-input",onKeydown:o[1]||(o[1]=A(a=>e.submitScale(0),["enter"]))},null,544),[[B,e.inputScale]]),s0,r(u,{width:56,placement:"top",trigger:"click","show-arrow":!1,raw:"",style:E({"--n-color":"var(--datav-component-bg)"})},{trigger:d(()=>[r(f,{class:"open-icon"},{default:d(()=>[r(C)]),_:1})]),default:d(()=>[t("div",a0,[(w(!0),g(T,null,U(e.scaleList,a=>(w(),g("div",{key:a.value,class:"scale-value-item",onClick:s=>e.submitScale(a.value)},V(a.label),9,o0))),128))])]),_:1},8,["style"])]),t("div",c0,[r(v,{value:e.scale,"onUpdate:value":[o[2]||(o[2]=a=>e.scale=a),e.submitScale],min:10,max:200,step:5,tooltip:!1},null,8,["value","onUpdate:value"])])])}var u0=I(R,[["render",n0],["__scopeId","data-v-1d8b8ab3"]]);export{u0 as default};
