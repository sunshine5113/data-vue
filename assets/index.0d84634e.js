var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,i=(e,a)=>{for(var t in a||(a={}))n.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&o(e,t,a[t]);return e},c=(e,l)=>a(e,t(l));import{d as r,e as d,j as p,aL as m,aM as u,aK as b,M as f,ag as g,aY as h,C as v,D as y,f as j,o as k,c as x,a as C,t as w,F as P,A as O,b as _,G as T}from"./index.c6050961.js";import{c as V}from"./index.7a5fbc51.js";import"./screen.81a1602b.js";import"./publish-screen.4e9c1909.js";import"./constants.0fbfcb4e.js";import"./dom.6a98c670.js";var D=r({name:"ComponentsPanel",setup(){const e=d(""),a=d([]),t=p((()=>m.components.show)),l=p((()=>{const e=g(h),t={type:"all",name:"全部",icon:"v-icon-view-grid"};return e.forEach((e=>{e.expand="",e.data.length>1?e.data.unshift(c(i({},t),{data:e.data.flatMap((e=>e.data))})):(e.expand="all",Object.assign(e.data[0],t))})),e.push({type:"favorite",name:"收藏",icon:"v-icon-favorite",data:[c(i({},t),{data:a.value})],expand:"all"}),e}));return{searchText:e,favoriteComs:a,visiblePanel:t,categories:l,changeVisible:()=>{m.setPanelState({type:u.components,value:!t.value})},handleTabClick:()=>{t.value||m.setPanelState({type:u.components,value:!0})},toAddCom:(e,a)=>{if(a){const{pageConfig:a}=b,t=V(e);t.attr.x=Math.floor((a.width-t.attr.w)/2),t.attr.y=Math.floor((a.height-t.attr.h)/2),b.addCom(t)}else f.warning("正在开发中。。。")},dragStart:(e,a)=>{e.dataTransfer.setData("text",a);const t=e.target.childNodes[0];e.dataTransfer.setDragImage(t,t.clientWidth/2,t.clientHeight/2)}}}});const M=T();v("data-v-37539ab0");const S={class:"components-panel"},A={class:"panel-title"},I={class:"panel-text"},E=C("i",{title:"搜索",class:"v-icon-search btn-icon"},null,-1),U={class:"collpase-hd-text"},F={class:"menu-list"},G={class:"menu-item-text"},H={key:0,class:"favorite-empty"};y();const K=M(((e,a,t,l,n,s)=>{const o=j("el-tooltip"),i=j("el-collapse-item"),c=j("el-collapse"),r=j("el-tab-pane"),d=j("el-tabs"),p=j("el-aside");return k(),x(p,{width:"auto",class:["component-panel-wp",{"--hide":!e.visiblePanel}]},{default:M((()=>[C("div",S,[C("div",A,[C("span",I,w(e.visiblePanel?"全部组件":"组件"),1),C(o,{content:"搜索",placement:"top",effect:"blue","open-delay":500,enterable:!1},{default:M((()=>[E])),_:1}),C(o,{content:"收起",placement:"top",effect:"blue","open-delay":500,enterable:!1},{default:M((()=>[C("i",{title:"收起",class:"v-icon-back btn-icon",onClick:a[1]||(a[1]=(...a)=>e.changeVisible&&e.changeVisible(...a))})])),_:1})]),C(d,{"tab-position":"left",onTabClick:e.handleTabClick},{default:M((()=>[(k(!0),x(P,null,O(e.categories,(a=>(k(),x(r,{key:a.type},{label:M((()=>[C(o,{content:a.name,placement:"right",effect:"blue","open-delay":500,enterable:!1},{default:M((()=>[C("i",{class:["com-tab-icon",a.icon]},null,2)])),_:2},1032,["content"])])),default:M((()=>[C(c,{modelValue:a.expand,"onUpdate:modelValue":e=>a.expand=e,accordion:""},{default:M((()=>[(k(!0),x(P,null,O(a.data,(t=>(k(),x(i,{key:t.type,name:t.type},{title:M((()=>[C("i",{class:["collpase-hd-icon",t.icon]},null,2),C("span",U,w(t.name+" ("+t.data.length+")"),1)])),default:M((()=>[C("ul",F,[(k(!0),x(P,null,O(t.data,(a=>(k(),x("li",{key:a.name,title:a.alias,draggable:a.used,class:"menu-item",onDragstart:t=>e.dragStart(t,a.name),onClick:t=>e.toAddCom(a.name,a.used)},[C("div",{class:"menu-item-img",style:`background-image: url(${a.img});`},null,4),C("p",G,w(a.alias),1)],40,["title","draggable","onDragstart","onClick"])))),128))]),0===t.data.length?(k(),x(P,{key:0},["favorite"===a.type?(k(),x("div",H," 没有收藏组件 ")):_("",!0)],64)):_("",!0)])),_:2},1032,["name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024)))),128))])),_:1},8,["onTabClick"])])])),_:1},8,["class"])}));D.render=K,D.__scopeId="data-v-37539ab0";export default D;
