var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,i=(e,a)=>{for(var t in a||(a={}))l.call(a,t)&&o(e,t,a[t]);if(n)for(var t of n(a))s.call(a,t)&&o(e,t,a[t]);return e},c=(e,n)=>a(e,t(n));import{d as r,e as d,h as p,B as m,aN as u,aZ as b,aI as g,aJ as f,M as v,b4 as y,f as h,o as k,c as w,w as C,a as j,t as O,F as P,g as D,b as x}from"./index.4fc9a33f.js";import{c as _}from"./index.95b07ffd.js";import"./templates.c5e0b63f.js";import"./data.1a93f427.js";import"./basic-bar.d262838b.js";import"./word-cloud.97259cb8.js";var T=r({name:"ComponentsPanel",setup(){const e=d(""),a=d([]),t=p((()=>u.components.show)),n=m(y),l={type:"all",name:"全部",icon:"v-icon-view-grid"},s=p((()=>{const e=n;return e.forEach((e=>{e.data.unshift(c(i({},l),{data:e.data.flatMap((e=>e.data))}))})),e.push({type:"favorite",name:"收藏",icon:"v-icon-favorite",data:[c(i({},l),{data:a.value})]}),e}));return{searchText:e,favoriteComs:a,visiblePanel:t,categories:s,changeVisible:()=>{u.setPanelState({type:b.components,value:!t.value})},handleTabClick:()=>{t.value||u.setPanelState({type:b.components,value:!0})},toAddCom:async(e,a)=>{if(a){u.addLoading();const{pageConfig:a}=g,t=_(e);t.attr.x=Math.floor((a.width-t.attr.w)/2),t.attr.y=Math.floor((a.height-t.attr.h)/2),await g.addCom(t),g.selectCom(t.id),u.removeLoading(),t.apis.source&&(await t.loadData(),f.datavComponents[t.id].$DATAV_requestData())}else v.warning("正在开发中。。。")},dragStart:(e,a)=>{e.dataTransfer.setData("text",a)},dragOver:e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="none"}}}});const S={class:"components-panel"},A={class:"panel-title"},M={class:"panel-text"},V=j("i",{title:"搜索",class:"v-icon-search btn-icon"},null,-1),E={class:"com-tab-title"},$={class:"com-tab-title"},I={class:"components-single-menu-wp"},L={class:"components-single-menu"},q={class:"components-single-menu-list"},B={class:"components-item-text"},F={key:1,class:"components-multi-menu"},J={class:"components-single-menu --wider"},N={class:"components-single-menu-list"},Z={class:"components-item-text"},z={key:0,class:"favorite-empty"};T.render=function(e,a,t,n,l,s){const o=h("el-tooltip"),i=h("el-tab-pane"),c=h("el-tabs"),r=h("el-aside");return k(),w(r,{width:"auto",class:["component-panel-wp",{"--hide":!e.visiblePanel}]},{default:C((()=>[j("div",S,[j("div",A,[j("span",M,O(e.visiblePanel?"全部组件":"组件"),1),j(o,{content:"搜索",placement:"top",effect:"blue","open-delay":500,enterable:!1},{default:C((()=>[V])),_:1}),j(o,{content:"收起",placement:"top",effect:"blue","open-delay":500,enterable:!1},{default:C((()=>[j("i",{title:"收起",class:"v-icon-back btn-icon",onClick:a[1]||(a[1]=(...a)=>e.changeVisible&&e.changeVisible(...a))})])),_:1})]),j("div",{class:"components-panel-wrapper",onDragover:a[2]||(a[2]=(...a)=>e.dragOver&&e.dragOver(...a))},[j(c,{"tab-position":"left",onTabClick:e.handleTabClick},{default:C((()=>[(k(!0),w(P,null,D(e.categories,(a=>(k(),w(i,{key:a.type},{label:C((()=>[j(o,{content:a.name,placement:"right",effect:"blue","open-delay":500,enterable:!1},{default:C((()=>[j("div",null,[j("i",{class:["com-tab-icon",a.icon]},null,2),j("span",E,O(a.name),1)])])),_:2},1032,["content"])])),default:C((()=>[a.data.length>2?(k(),w(c,{key:0,"tab-position":"left",class:"el-tabs-l2"},{default:C((()=>[(k(!0),w(P,null,D(a.data,(a=>(k(),w(i,{key:a.type},{label:C((()=>[j("span",$,O(a.name),1)])),default:C((()=>[j("div",I,[j("div",L,[j("ul",q,[(k(!0),w(P,null,D(a.data,(a=>(k(),w("li",{key:a.name,title:a.alias,draggable:a.used,class:"components-item double",onDragstart:t=>e.dragStart(t,a.name),onClick:t=>e.toAddCom(a.name,a.used)},[j("div",B,O(a.alias),1),j("div",{class:"components-item-img",style:`background-image: url(${a.img});`},null,4)],40,["title","draggable","onDragstart","onClick"])))),128))])])])])),_:2},1024)))),128))])),_:2},1024)):(k(),w("div",F,[j("div",J,[j("ul",N,[(k(!0),w(P,null,D(a.data[0].data,(a=>(k(),w("li",{key:a.name,title:a.alias,draggable:a.used,class:"components-item double",onDragstart:t=>e.dragStart(t,a.name),onClick:t=>e.toAddCom(a.name,a.used)},[j("div",Z,O(a.alias),1),j("div",{class:"components-item-img",style:`background-image: url(${a.img});`},null,4)],40,["title","draggable","onDragstart","onClick"])))),128))]),0===a.data[0].data.length?(k(),w(P,{key:0},["favorite"===a.type?(k(),w("div",z," 没有收藏组件 ")):x("",!0)],64)):x("",!0)])]))])),_:2},1024)))),128))])),_:1},8,["onTabClick"])],32)])])),_:1},8,["class"])};export default T;
