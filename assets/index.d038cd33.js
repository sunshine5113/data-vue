import{a4 as o,a8 as n,ab as h,a2 as O,a7 as F,aF as d,aA as Q,a3 as a,a5 as c,b0 as l,aY as i,aQ as v,af as b,ae as w,a9 as p,b1 as N,ac as S,ad as q,ag as E,ax as Y}from"./vendor.577170a9.js";import{b as M,T as g,c as G}from"./App.7d9600e2.js";import{I as J}from"./arrow-right.3c31d15d.js";import{I as K}from"./plus.f66c3531.js";import{I as W}from"./delete.dfde7a3e.js";import{I as X}from"./copy.082fcb74.js";const Z={},x={t:"1632757498950",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4083",width:"64",height:"64"},ee=h("path",{d:"M921.6 102.4H102.4c-27.30666667 0-45.51111147 18.2044448-45.51111147 45.51111147v728.17777706c0 27.30666667 18.2044448 45.51111147 45.51111147 45.51111147h819.2c27.30666667 0 45.51111147-18.2044448 45.51111147-45.51111147V147.91111147c0-27.30666667-18.2044448-45.51111147-45.51111147-45.51111147z m-45.51111147 728.17777813H147.91111147V193.42222187h728.17777706v637.15555626z","p-id":"4084"},null,-1),te=h("path",{d:"M147.91111147 466.48888853h728.17777706v91.02222294H147.91111147v-91.02222294z","p-id":"4085"},null,-1),oe=[ee,te];function le(e,s){return o(),n("svg",x,oe)}var ae=M(Z,[["render",le]]);const se={},ne={t:"1632757513753",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4379",width:"64",height:"64"},ie=h("path",{d:"M876.08888853 102.4H147.91111147c-27.30666667 0-45.51111147 18.2044448-45.51111147 45.51111147v728.17777706c0 27.30666667 18.2044448 45.51111147 45.51111147 45.51111147h728.17777706c27.30666667 0 45.51111147-18.2044448 45.51111147-45.51111147V147.91111147c0-27.30666667-18.2044448-45.51111147-45.51111147-45.51111147zM193.42222187 830.57777813V193.42222187h273.06666666v637.15555626H193.42222187z m637.15555626 0h-273.06666666V193.42222187h273.06666666v637.15555626z","p-id":"4380"},null,-1),de=[ie];function ce(e,s){return o(),n("svg",ne,de)}var ue=M(se,[["render",ce]]);const re=O({name:"GFieldCollapse",components:{IconArrowRight:J,IconPlus:K,IconDelete:W,IconCopy:X,IconLayoutRow:ae,IconLayoutColumn:ue},props:{mode:{type:String,default:""},label:{type:String,required:!0},tooltip:{type:String},toggle:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!0},defaultLayout:{type:String,default:g.horizontal},features:{type:Array,default:()=>[]},list:Array,min:{type:Number,default:0},max:{type:Number,default:1e3},tab:String,addItem:{type:Function,default:()=>{}}},emits:[G],setup(e,s){const _=F([]),y=F("0"),H=F(e.defaultLayout===g.horizontal),j=d(()=>_.value.length>0&&e.features.length>0),k=d(()=>e.features.includes(g.horizontal)),u=d(()=>e.features.includes(g.vertical)),T=d(()=>e.features.includes(g.copy)),f=d(()=>e.features.includes(g.add)),C=d(()=>e.features.includes(g.remove)),V=d(()=>(k.value||u.value)&&(T.value||f.value||C.value)),I=d(()=>{const t=!e.list||e.list.length<e.min||e.list.length>=e.max;return{disabled:t,msg:t?"\u4E0D\u53EF\u590D\u5236":""}}),$=d(()=>{const t=!e.list||e.list.length>=e.max;return{disabled:t,msg:t?"\u5DF2\u81F3\u6700\u5927\u9879\u6570":""}}),L=d(()=>{const t=!e.list||e.list.length<=e.min;return{disabled:t,msg:t?"\u5DF2\u81F3\u6700\u5C0F\u9879\u6570":""}}),D=t=>{e.toggle&&!e.modelValue||(_.value=t)},R=t=>{s.emit(G,t)},A=()=>{if(!I.value.disabled){const t=Math.min(+y.value,e.list.length-1);e.list.push(Y(e.list[t]))}},z=()=>{if(!L.value.disabled){const t=Math.min(+y.value,e.list.length-1);e.list.splice(t,1),y.value="0"}},r=()=>{if(!$.value.disabled&&typeof e.addItem=="function"){const t=e.addItem()||{};e.list.push(t)}},m=t=>(e.tab||e.label)+(t+1),U=t=>{y.value=`${t}`};return Q(()=>e.modelValue,t=>{t||(_.value=[])}),{activeNames:_,activeTab:y,isLayoutRow:H,visibleToolbox:j,showToolboxRow:k,showToolboxCol:u,showToolboxCopy:T,showToolboxAdd:f,showToolboxDel:C,showToolboxSplit:V,copyState:I,addState:$,deleteState:L,handleExpand:D,toggleVisible:R,copyData:A,addData:r,deleteData:z,getTabLabel:m,changeTab:U}}}),me={class:"g-field-show-placeholder"},be=["title"],fe=["innerHTML"],he=["title"],pe={key:2,class:"g-field-collapse-panel-toolbox"},ge={key:2,class:"g-field-collapse-panel-toolbox-split"},ye={key:1,class:"g-field-tabs --column"},ve=["onClick"],we={key:1,class:"g-field-collapse-panel-empty"};function _e(e,s,_,y,H,j){const k=a("IconArrowRight"),u=a("n-icon"),T=a("n-switch"),f=a("n-tooltip"),C=a("IconLayoutRow"),V=a("IconLayoutColumn"),I=a("IconCopy"),$=a("IconPlus"),L=a("IconDelete"),D=a("el-tab-pane"),R=a("el-tabs"),A=a("n-collapse-item"),z=a("n-collapse");return o(),c(z,{"expanded-names":e.activeNames,"arrow-placement":"right","display-directive":"show",class:p(["g-field-collapse",{"--disabled":e.toggle&&!e.modelValue}]),"onUpdate:expandedNames":e.handleExpand},{arrow:l(()=>[i(u,null,{default:l(()=>[i(k)]),_:1})]),default:l(()=>[i(A,{class:"g-field-collapse-panel"},{header:l(()=>[h("i",me,[e.toggle?(o(),c(T,{key:0,value:e.modelValue,size:"small",onClick:s[0]||(s[0]=v(()=>{},["stop"])),"onUpdate:value":e.toggleVisible},null,8,["value","onUpdate:value"])):b("",!0)]),e.tooltip?(o(),c(f,{key:0,placement:"top"},{trigger:l(()=>[h("label",{class:"g-field-title-with-description",title:e.label},w(e.label),9,be)]),default:l(()=>[h("span",{innerHTML:e.tooltip},null,8,fe)]),_:1})):(o(),n("label",{key:1,class:"g-field-title",title:e.label},w(e.label),9,he)),e.visibleToolbox?(o(),n("div",pe,[e.showToolboxRow?(o(),c(u,{key:0,class:p(["toolbox-icon",{"--selected":e.isLayoutRow}]),onClick:s[1]||(s[1]=v(r=>e.isLayoutRow=!0,["stop"]))},{default:l(()=>[i(C)]),_:1},8,["class"])):b("",!0),e.showToolboxCol?(o(),c(u,{key:1,class:p(["toolbox-icon",{"--selected":!e.isLayoutRow}]),onClick:s[2]||(s[2]=v(r=>e.isLayoutRow=!1,["stop"]))},{default:l(()=>[i(V)]),_:1},8,["class"])):b("",!0),e.showToolboxSplit?(o(),n("span",ge)):b("",!0),e.showToolboxCopy?(o(),c(f,{key:3,placement:"top",disabled:!e.copyState.disabled},{trigger:l(()=>[i(u,{class:p(["toolbox-icon",{"--disabled":e.copyState.disabled}]),onClick:v(e.copyData,["stop"])},{default:l(()=>[i(I)]),_:1},8,["class","onClick"])]),default:l(()=>[N(" "+w(e.copyState.msg),1)]),_:1},8,["disabled"])):b("",!0),e.showToolboxAdd?(o(),c(f,{key:4,placement:"top",disabled:!e.addState.disabled},{trigger:l(()=>[i(u,{class:p(["toolbox-icon --icon-add",{"--disabled":e.addState.disabled}]),onClick:v(e.addData,["stop"])},{default:l(()=>[i($)]),_:1},8,["class","onClick"])]),default:l(()=>[N(" "+w(e.addState.msg),1)]),_:1},8,["disabled"])):b("",!0),e.showToolboxDel?(o(),c(f,{key:5,placement:"top",disabled:!e.deleteState.disabled},{trigger:l(()=>[i(u,{class:p(["toolbox-icon",{"--disabled":e.deleteState.disabled}]),onClick:v(e.deleteData,["stop"])},{default:l(()=>[i(L)]),_:1},8,["class","onClick"])]),default:l(()=>[N(" "+w(e.deleteState.msg),1)]),_:1},8,["disabled"])):b("",!0)])):b("",!0)]),default:l(()=>[e.mode==="layout"?(o(),n(S,{key:0},[e.list&&e.list.length>0?(o(),n(S,{key:0},[e.isLayoutRow?(o(),c(R,{key:0,modelValue:e.activeTab,"onUpdate:modelValue":s[3]||(s[3]=r=>e.activeTab=r),type:"border-card",class:"g-field-tabs"},{default:l(()=>[(o(!0),n(S,null,q(e.list,(r,m)=>(o(),c(D,{key:m,label:e.getTabLabel(m)},{default:l(()=>[E(e.$slots,"default",{item:r})]),_:2},1032,["label"]))),128))]),_:3},8,["modelValue"])):(o(),n("div",ye,[(o(!0),n(S,null,q(e.list,(r,m)=>(o(),n("div",{key:m,class:"g-field-tabs-column-item"},[h("span",{class:p(["g-field-tabs-column-item-head",{"--selected":m===+e.activeTab}]),onClick:U=>e.changeTab(m)},w(e.getTabLabel(m)),11,ve),E(e.$slots,"default",{item:r})]))),128))]))],64)):(o(),n("span",we," \u5217\u8868\u4E3A\u7A7A "))],64)):E(e.$slots,"default",{key:1})]),_:3})]),_:3},8,["expanded-names","class","onUpdate:expandedNames"])}var B=M(re,[["render",_e]]);B.install=e=>{e.component(B.name,B)};export{B as default};
