import{b as j,$ as v,z as E}from"./App.7d9600e2.js";import{o as U,b as S}from"./dom.17e5a3e2.js";import{I as F}from"./warning.d73c71b1.js";import{I as A}from"./edit.3ff5df3e.js";import{I as H}from"./delete.dfde7a3e.js";import{I as L}from"./copy.082fcb74.js";import{I as V,a as z,b as N,c as P,d as W}from"./lock.e692ce4e.js";import{a4 as d,a8 as l,ab as i,a2 as Y,a$ as q,bd as G,bm as J,aB as K,a3 as a,aY as n,b0 as m,ac as p,aa as O,af as Q,b7 as R,b1 as u,bb as X,bc as Z}from"./vendor.577170a9.js";import{I as oo}from"./show.82cc32ce.js";import{I as eo}from"./hide.afcd161e.js";import{u as no}from"./index.2ac6bc0f.js";const to={},so={t:"1631071817459",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11139",width:"64",height:"64"},co=i("path",{d:"M512 32a256 256 0 0 1 256 256 32 32 0 0 1-64 0 192 192 0 0 0-383.872-7.2L320 288v128h512a64 64 0 0 1 64 64v416a64 64 0 0 1-64 64H192a64 64 0 0 1-64-64V480a64 64 0 0 1 64-64h64V288a256 256 0 0 1 256-256z m320 448H192v416h640V480z m-320 96a64 64 0 0 1 32.032 119.424L544 768a32 32 0 0 1-64 0v-72.576A64 64 0 0 1 512 576z","p-id":"11140"},null,-1),io=[co];function ao(o,t){return d(),l("svg",so,io)}var mo=j(to,[["render",ao]]);const uo=Y({name:"EditorContextMenu",components:{IconMoveUp:V,IconMoveDown:z,IconMoveTop:N,IconMoveBottom:P,IconLock:W,IconUnlock:mo,IconShow:oo,IconHide:eo,IconCopy:L,IconEdit:A,IconDelete:H},setup(){const o=q(),t=G(),{contextMenu:b,selectedCom:c,isLocked:g,isHided:x,contextMenuStyle:_}=no(),s=e=>{c.value&&E.moveCom({id:c.value.id,moveType:e})},f=()=>s(v.up),C=()=>s(v.down),I=()=>s(v.top),k=()=>s(v.bottom),h=()=>{c.value&&(c.value.locked=!c.value.locked)},M=()=>{c.value&&(c.value.hided=!c.value.hided)},w=()=>{const e=c.value;if(e){const $=t.create({content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u76841\u4E2A\u7EC4\u4EF6",negativeText:"\u53D6\u6D88",positiveText:"\u786E\u5B9A",iconPlacement:"top",icon:()=>R(F),onPositiveClick:async()=>{$.loading=!0;try{await E.deleteCom(e)}catch(T){o.error(T.message)}}})}},y=()=>{c.value&&(c.value.renameing=!0)},D=()=>{c.value&&E.copyCom(c.value.id)},r=e=>e.preventDefault();return J(()=>{U(document,"contextmenu",r)}),K(()=>{S(document,"contextmenu",r)}),{contextMenu:b,isLocked:g,isHided:x,contextMenuStyle:_,moveUp:f,moveDown:C,moveTop:I,moveBottom:k,lockCom:h,hideCom:M,toDeleteCom:w,renameCom:y,toCopyCom:D}}}),B=o=>(X("data-v-360ec9f4"),o=o(),Z(),o),lo=u(" \u7F6E\u9876 "),ro=u(" \u7F6E\u5E95 "),vo=u(" \u4E0A\u79FB\u4E00\u5C42 "),po=u(" \u4E0B\u79FB\u4E00\u5C42 "),_o=B(()=>i("div",{class:"context-menu-divider"},null,-1)),fo=u(" \u89E3\u9501 "),Co=u(" \u9501\u5B9A "),Io=u(" \u663E\u793A "),ko=u(" \u9690\u85CF "),ho=B(()=>i("div",{class:"context-menu-divider"},null,-1)),Mo=u(" \u91CD\u547D\u540D "),wo=u(" \u590D\u5236 "),yo=u(" \u5220\u9664 "),Do=B(()=>i("div",{class:"context-menu-divider"},null,-1));function Eo(o,t,b,c,g,x){const _=a("IconMoveTop"),s=a("n-icon"),f=a("IconMoveBottom"),C=a("IconMoveUp"),I=a("IconMoveDown"),k=a("IconUnlock"),h=a("IconLock"),M=a("IconShow"),w=a("IconHide"),y=a("IconEdit"),D=a("IconCopy"),r=a("IconDelete");return o.contextMenu.show?(d(),l("div",{key:0,class:"context-menu-wrap",style:O(o.contextMenuStyle)},[i("div",{class:"context-menu-item",onClick:t[0]||(t[0]=(...e)=>o.moveTop&&o.moveTop(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(_)]),_:1}),lo]),i("div",{class:"context-menu-item",onClick:t[1]||(t[1]=(...e)=>o.moveBottom&&o.moveBottom(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(f)]),_:1}),ro]),i("div",{class:"context-menu-item",onClick:t[2]||(t[2]=(...e)=>o.moveUp&&o.moveUp(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(C)]),_:1}),vo]),i("div",{class:"context-menu-item",onClick:t[3]||(t[3]=(...e)=>o.moveDown&&o.moveDown(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(I)]),_:1}),po]),_o,i("div",{class:"context-menu-item",onClick:t[4]||(t[4]=(...e)=>o.lockCom&&o.lockCom(...e))},[o.isLocked?(d(),l(p,{key:0},[n(s,{class:"menu-icon"},{default:m(()=>[n(k)]),_:1}),fo],64)):(d(),l(p,{key:1},[n(s,{class:"menu-icon"},{default:m(()=>[n(h)]),_:1}),Co],64))]),i("div",{class:"context-menu-item",onClick:t[5]||(t[5]=(...e)=>o.hideCom&&o.hideCom(...e))},[o.isHided?(d(),l(p,{key:0},[n(s,{class:"menu-icon"},{default:m(()=>[n(M)]),_:1}),Io],64)):(d(),l(p,{key:1},[n(s,{class:"menu-icon"},{default:m(()=>[n(w)]),_:1}),ko],64))]),ho,i("div",{class:"context-menu-item",onClick:t[6]||(t[6]=(...e)=>o.renameCom&&o.renameCom(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(y)]),_:1}),Mo]),i("div",{class:"context-menu-item",onClick:t[7]||(t[7]=(...e)=>o.toCopyCom&&o.toCopyCom(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(D)]),_:1}),wo]),i("div",{class:"context-menu-item",onClick:t[8]||(t[8]=(...e)=>o.toDeleteCom&&o.toDeleteCom(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(r)]),_:1}),yo]),Do],4)):Q("",!0)}var Ho=j(uo,[["render",Eo],["__scopeId","data-v-360ec9f4"]]);export{Ho as default};
