var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(e,t,l)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,i=(a,e)=>{for(var t in e||(e={}))s.call(e,t)&&o(a,t,e[t]);if(l)for(var t of l(e))n.call(e,t)&&o(a,t,e[t]);return a},r=(a,l)=>e(a,t(l));import{d as c,g as d,a4 as p,aw as m,Q as u,ax as f,au as g,a6 as b,aP as h,p as v,k as y,r as x,o as w,c as k,a as j,F as O,b as P,t as V,al as C,l as _}from"./index.22eaa455.js";import{c as D}from"./index.a490d289.js";import"./editor.worker.3eb73e22.js";import"./dom.1228cadc.js";var T=c({name:"ComponentsPanel",setup(){const a=d(""),e=d([]),t=p((()=>m.components.show)),l=p((()=>{const a=u(h),t={type:"all",name:"全部",icon:"v-icon-app"};return a.forEach((a=>{a.expand="",a.data.length>1?a.data.unshift(r(i({},t),{data:a.data.flatMap((a=>a.data))})):(a.expand="all",Object.assign(a.data[0],t))})),a.push({type:"favorite",name:"收藏",icon:"v-icon-favorite",data:[r(i({},t),{data:e.value})],expand:"all"}),a}));return{searchText:a,favoriteComs:e,visiblePanel:t,changeVisible:()=>{m.setPanelState({type:f.components,value:!t.value})},categories:l,toAddCom:(a,e)=>{if(e){const{pageConfig:e}=g,t=D(a);t.attr.x=Math.floor((e.width-t.attr.w)/2),t.attr.y=Math.floor((e.height-t.attr.h)/2),g.addCom(t)}else b.warning("正在开发中。。。")},dragStart:(a,e)=>{a.dataTransfer.setData("text",e);const t=a.target.childNodes[0];a.dataTransfer.setDragImage(t,t.clientWidth/2,t.clientHeight/2)}}}});const S=_();v("data-v-658714d7");const I={class:"components-panel"},M={class:"panel-title"},U=j("span",{class:"panel-text"},"组件列表",-1),A={class:"collpase-hd-text"},E={class:"menu-list"},z={class:"menu-item-text"},F={key:0,class:"favorite-empty"},H={class:"com-search-wp"};y();const N=S(((a,e,t,l,s,n)=>{const o=x("el-tooltip"),i=x("el-collapse-item"),r=x("el-collapse"),c=x("el-tab-pane"),d=x("el-tabs"),p=x("el-input"),m=x("el-aside");return w(),k(m,{width:"auto",class:["component-panel-wp",{"--hide":!a.visiblePanel}]},{default:S((()=>[j("div",I,[j("div",M,[U,j("i",{class:"v-icon-back close-btn",onClick:e[1]||(e[1]=(...e)=>a.changeVisible&&a.changeVisible(...e))})]),j(d,{"tab-position":"left"},{default:S((()=>[(w(!0),k(O,null,P(a.categories,(e=>(w(),k(c,{key:e.type},{label:S((()=>[j(o,{content:e.name,placement:"left",effect:"blue","open-delay":500,enterable:!1},{default:S((()=>[j("i",{class:["com-tab-icon",e.icon]},null,2)])),_:2},1032,["content"])])),default:S((()=>[j(r,{modelValue:e.expand,"onUpdate:modelValue":a=>e.expand=a,accordion:""},{default:S((()=>[(w(!0),k(O,null,P(e.data,(t=>(w(),k(i,{key:t.type,name:t.type},{title:S((()=>[j("i",{class:["collpase-hd-icon",t.icon]},null,2),j("span",A,V(t.name+" ("+t.data.length+")"),1)])),default:S((()=>[j("ul",E,[(w(!0),k(O,null,P(t.data,(e=>(w(),k("li",{key:e.name,title:e.alias,draggable:e.used,class:"menu-item",onDragstart:t=>a.dragStart(t,e.name),onClick:t=>a.toAddCom(e.name,e.used)},[j("div",{class:"menu-item-img",style:`background-image: url(${e.img});`},null,4),j("p",z,V(e.alias),1)],40,["title","draggable","onDragstart","onClick"])))),128))]),0===t.data.length?(w(),k(O,{key:0},["favorite"===e.type?(w(),k("div",F," 没有收藏组件 ")):C("",!0)],64)):C("",!0)])),_:2},1032,["name"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024)))),128))])),_:1}),j("div",H,[j(p,{modelValue:a.searchText,"onUpdate:modelValue":e[2]||(e[2]=e=>a.searchText=e),placeholder:"搜索组件",size:"small",clearable:""},null,8,["modelValue"])])])])),_:1},8,["class"])}));T.render=N,T.__scopeId="data-v-658714d7";export default T;
