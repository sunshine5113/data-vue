import{d as a,a5 as e,a$ as o,r as l,o as i,c as t,a as n,w as s,F as p,b as d,al as u,e as c}from"./index.080b2a81.js";import"./editor.worker.3eb73e22.js";var r=a({name:"DsApiEditor",setup(){const a=e("apiDataConfig");return{apiDataConfig:a,apiMethods:o,updateData:e=>{a.value.config.api=e.value},updateApiHeaders:e=>{a.value.config.apiHeaders=e.value},updateApiBody:e=>{a.value.config.apiBody=e.value}}}});const f={class:"ds-wrapper ds-api"},g=n("p",null,"请求方式",-1),h={class:"datav-new-select-wp"},m=n("p",{class:"url-info"},[n("label",{class:"prefix-label textarea-label"},"URL："),n("a",{target:"_blank",rel:"noopener noreferrer",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS",class:"api-help"},"重要：跨域问题解决方案")],-1),v=n("p",{class:"url-info-text"}," 将回调参数配置到url中, 例: http://api.test?value=:value ",-1),D={class:"post-request-data"},b=n("p",{class:"url-info-text"},"Headers (Optional)",-1),C={key:0,class:"post-request-data"},k=n("p",{class:"url-info-text"},"POST 请求参数",-1),x=c(" 服务器代理请求 (因跨域无法访问时可勾选) "),B=c(" 需要 cookie (不选择代理并且需要获取cookie时使用) ");r.render=function(a,e,o,c,r,V){const w=l("el-option"),y=l("el-select"),H=l("g-monaco-editor"),M=l("el-checkbox");return i(),t("div",f,[g,n("div",h,[n(y,{modelValue:a.apiDataConfig.config.apiMethod,"onUpdate:modelValue":e[1]||(e[1]=e=>a.apiDataConfig.config.apiMethod=e),size:"mini",class:"datav-new-select","popper-class":"datav-new-select-option"},{default:s((()=>[(i(!0),t(p,null,d(a.apiMethods,(a=>(i(),t(w,{key:a,label:a,value:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),m,v,n(H,{language:"plaintext","line-numbers":"off",height:120,code:a.apiDataConfig.config.api,onBlur:a.updateData},null,8,["code","onBlur"]),n("div",D,[b,n(H,{language:"json",height:120,"auto-format":!0,code:a.apiDataConfig.config.apiHeaders,onBlur:a.updateApiHeaders},null,8,["code","onBlur"])]),a.apiDataConfig.config.apiMethod===a.apiMethods.POST?(i(),t("div",C,[k,n(H,{language:"json",height:120,"auto-format":!0,code:a.apiDataConfig.config.apiBody,onBlur:a.updateApiBody},null,8,["code","onBlur"])])):u("",!0),n(M,{modelValue:a.apiDataConfig.config.local,"onUpdate:modelValue":e[2]||(e[2]=e=>a.apiDataConfig.config.local=e),class:"ds-checkbox"},{default:s((()=>[x])),_:1},8,["modelValue"]),n(M,{modelValue:a.apiDataConfig.config.cookie,"onUpdate:modelValue":e[3]||(e[3]=e=>a.apiDataConfig.config.cookie=e),class:"ds-checkbox"},{default:s((()=>[B])),_:1},8,["modelValue"])])};export default r;
