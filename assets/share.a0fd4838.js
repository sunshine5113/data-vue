var d=Object.defineProperty,_=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var i=(e,s,t)=>s in e?d(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,n=(e,s)=>{for(var t in s||(s={}))g.call(s,t)&&i(e,t,s[t]);if(o)for(var t of o(s))E.call(s,t)&&i(e,t,s[t]);return e},c=(e,s)=>_(e,f(s));import{g as l,a as v,_ as p,U as A,A as I,i as T,E as D,N as U,G as b,D as j,s as k}from"./App.7d9600e2.js";import{c as y,a as P,b as $}from"./vendor.577170a9.js";const L=[{path:"/screen/:screenId",name:"Screen",props:!0,component:()=>p(()=>import("./index.a397906d.js"),["assets/index.a397906d.js","assets/index.4531aeb4.css","assets/vendor.577170a9.js","assets/App.7d9600e2.js","assets/App.0b4877a0.css","assets/dom.17e5a3e2.js","assets/screen.0624ca5f.js"])},{path:"/:catchAll(.*)*",name:"NotFound",component:()=>p(()=>import("./index.fe6086e1.js"),["assets/index.fe6086e1.js","assets/index.557e07fe.css","assets/vendor.577170a9.js","assets/App.7d9600e2.js","assets/App.0b4877a0.css"]),meta:{title:"\u627E\u4E0D\u5230\u9875\u9762"}}],u=y({history:P(),routes:L}),N=["/login","/auth-redirect","/dev"];u.beforeEach(async(e,s,t)=>{if(e.meta&&e.meta.title?document.title=`${e.meta.title} | ${l.title}`:document.title=l.title,v())if(e.path==="/login")t({path:"/"});else{const{role:r,getUserInfo:m,resetToken:h}=A();if(r.value>0)t();else try{await m(),t(c(n({},e),{replace:!0}))}catch{h(),t(`/login?redirect=${e.path}`)}}else N.some(r=>e.path.startsWith(r))?t():t(`/login?redirect=${e.path}`)});const a=$(I);a.use(T);a.use(D);a.use(U);a.use(b);a.use(j);a.use(k);a.use(u);a.mount("#app");
