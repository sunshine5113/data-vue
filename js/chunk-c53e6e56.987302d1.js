(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c53e6e56"],{"07ac":function(e,t,a){var c=a("23e7"),o=a("6f53").values;c({target:"Object",stat:!0},{values:function(e){return o(e)}})},"2db7":function(e,t,a){},"39ae":function(e,t,a){"use strict";a("85b0")},5022:function(e,t,a){"use strict";a("2db7")},"85b0":function(e,t,a){},e261:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a"),a("d81d");var c=a("7a23"),o=Object(c["withScopeId"])("data-v-f4270d48");Object(c["pushScopeId"])("data-v-f4270d48");var s={class:"api-editor-title"},l={key:0,class:"el-icon-arrow-right api-fold-icon"},n={class:"api-status success"},i={class:"attr-source-wp"},d={class:"data-attr-table-container"},u={class:"data-attr-table"},r=Object(c["createVNode"])("thead",{class:"table-head"},[Object(c["createVNode"])("tr",{class:"table-head-row"},[Object(c["createVNode"])("th",{class:"th-item column-item attr-name"}," 字段 "),Object(c["createVNode"])("th",{class:"th-item column-item attr-value"}," 映射 "),Object(c["createVNode"])("th",{class:"th-item column-item attr-status"}," 状态 ")])],-1),p={class:"table-body"},b={class:"column-item attr-name"},j={class:"ellipsis2"},O={class:"column-item attr-value"},f={class:"column-item attr-status"},m={class:"data-source"},v=Object(c["createVNode"])("div",{class:"data-result-title"}," 数据响应结果 ",-1),N={class:"auto-update-config"},V=Object(c["createTextVNode"])(" 自动更新选项 "),g=Object(c["createTextVNode"])(" 秒一次 "),S={class:"data-flow-wp"},k={class:"ds-line"},h={class:"ds-title"},y=Object(c["createVNode"])("span",{class:"ds-title-text"},"数据源",-1),C={class:"ds-type-text"},x=Object(c["createTextVNode"])(" 配置数据源 "),B={class:"ds-line mt5"},w=Object(c["createVNode"])("span",null,"数据响应结果 ( 只读 ) ",-1),T=Object(c["createVNode"])("i",{class:"el-icon-refresh refresh-btn"},null,-1),D={class:"ds-dots"},_=Object(c["createVNode"])("span",{class:"ds-dot"},null,-1),I=Object(c["createVNode"])("span",{class:"ds-dot"},null,-1),U={class:"data-response"};Object(c["popScopeId"])();var A=o((function(e,t,a,A,F,J){var M=Object(c["resolveComponent"])("display-api-status"),P=Object(c["resolveComponent"])("el-tooltip"),z=Object(c["resolveComponent"])("g-input"),L=Object(c["resolveComponent"])("el-checkbox"),q=Object(c["resolveComponent"])("el-button"),E=Object(c["resolveComponent"])("g-monaco-editor");return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:["api-editor",{"--disable-fold":!e.collapse,"--fold":e.collapse&&e.visible}]},[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",{class:"api-desc ellipsis2",onClick:t[1]||(t[1]=function(){return e.toggle&&e.toggle.apply(e,arguments)})},[e.collapse?(Object(c["openBlock"])(),Object(c["createBlock"])("i",l)):Object(c["createCommentVNode"])("",!0),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.apiConfig.description||"数据接口"),1)]),Object(c["createVNode"])("div",n,[Object(c["createVNode"])(M,{status:e.totalStatus,"success-text":"配置完成"},null,8,["status"])])]),Object(c["withDirectives"])(Object(c["createVNode"])("div",i,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("table",u,[r,Object(c["createVNode"])("tbody",p,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.apiConfig.fields,(function(t,a){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:a,class:"table-body-row"},[Object(c["createVNode"])("td",b,[Object(c["createVNode"])(P,{content:t.description,placement:"left",effect:"blue"},{default:o((function(){return[Object(c["createVNode"])("span",j,Object(c["toDisplayString"])(a),1)]})),_:2},1032,["content"])]),Object(c["createVNode"])("td",O,[Object(c["createVNode"])(z,{"model-value":t.map,placeholder:"可自定义",class:"attr-input",onChange:function(e){return t.map=e}},null,8,["model-value","onChange"])]),Object(c["createVNode"])("td",f,[Object(c["createVNode"])(M,{status:e.fieldsStatus[a],optional:t.optional},null,8,["status","optional"])])])})),128))])])]),Object(c["createVNode"])("div",m,[v,Object(c["createVNode"])("div",N,[Object(c["createVNode"])(L,{modelValue:e.apiConfig.useAutoUpdate,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.apiConfig.useAutoUpdate=t}),class:"auto-update-checkbox"},{default:o((function(){return[V]})),_:1},8,["modelValue"]),Object(c["createVNode"])(z,{"model-value":e.apiConfig.autoUpdate,type:"number",disabled:!e.apiConfig.useAutoUpdate,class:"update-interval-input",onChange:t[3]||(t[3]=function(t){return e.apiConfig.autoUpdate=t})},null,8,["model-value","disabled"]),g]),Object(c["createVNode"])("div",S,[Object(c["createVNode"])("div",k,[Object(c["createVNode"])("div",h,[y,Object(c["createVNode"])("span",C,Object(c["toDisplayString"])(e.apiDataConfig.type),1)]),Object(c["createVNode"])(q,{size:"mini",class:"ds-action-btn",onClick:e.showDataSource},{default:o((function(){return[x]})),_:1},8,["onClick"])]),Object(c["createVNode"])("div",B,[w,Object(c["createVNode"])(P,{content:"刷新数据",placement:"left",effect:"blue"},{default:o((function(){return[T]})),_:1})]),Object(c["createVNode"])("div",D,[Object(c["createVNode"])("span",{class:["ds-dot",["completed"===e.totalStatus?"active":"error"]]},null,2),_,I])]),Object(c["createVNode"])("div",U,[Object(c["createVNode"])(E,{language:"json","read-only":!0,code:e.datav_data,height:250,"full-screen-title":"数据响应结果"},null,8,["code"])])])],512),[[c["vShow"],e.visible]])],2)})),F=(a("07ac"),a("caad"),a("2532"),a("c18c")),J=a("bf64"),M=a("fd90"),P=Object(c["withScopeId"])("data-v-1a65afef");Object(c["pushScopeId"])("data-v-1a65afef");var z=Object(c["createVNode"])("i",{class:"status-icon validating"},null,-1),L=Object(c["createVNode"])("i",{class:"status-icon validating"},null,-1),q=Object(c["createVNode"])("i",{class:"status-icon validating"},null,-1),E={key:2,class:"status-icon --success"},G={class:"status-text"};Object(c["popScopeId"])();var H=P((function(e,t,a,o,s,l){return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[e.status===e.apiStatus.loading?(Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:0},[z,L,q],64)):e.status===e.apiStatus.success||e.status===e.apiStatus.completed?(Object(c["openBlock"])(),Object(c["createBlock"])("i",{key:1,class:["status-icon","--".concat(e.status)]},null,2)):e.optional?(Object(c["openBlock"])(),Object(c["createBlock"])("i",E)):(Object(c["openBlock"])(),Object(c["createBlock"])("i",{key:3,class:["status-icon","--".concat(e.status)]},null,2)),Object(c["createVNode"])("span",G,Object(c["toDisplayString"])(e.statusText),1)])})),K=Object(c["defineComponent"])({name:"DisplayApiStatus",props:{status:{type:String,default:J["a"].incomplete},loadingText:{type:String,default:"匹配中"},successText:{type:String,default:"匹配成功"},failedText:{type:String,default:"未找到字段"},completedText:{type:String,default:"配置完成"},incompleteText:{type:String,default:"配置未完成"},optional:{type:Boolean,default:!1}},setup:function(e){var t=Object(c["computed"])((function(){return e.status===J["a"].loading?e.loadingText:e.status===J["a"].success?e.successText:e.status===J["a"].completed?e.completedText:e.optional?"可选":e.status===J["a"].failed?e.failedText:e.status===J["a"].incomplete?e.incompleteText:e.status}));return{apiStatus:J["a"],statusText:t}}});a("5022");K.render=H,K.__scopeId="data-v-1a65afef";var Q=K,R=Object(c["defineComponent"])({name:"SourcePanel",components:{DisplayApiStatus:Q},props:{apiName:String,activeName:String,collapse:Boolean},setup:function(e){var t=Object(c["computed"])((function(){return e.apiName===e.activeName})),a=Object(c["inject"])("com"),o=Object(c["computed"])((function(){return a.value.apis[e.apiName]})),s=Object(c["computed"])((function(){return a.value.apiData[e.apiName]})),l=Object(c["computed"])((function(){var t=M["a"].dataMap[a.value.id];return t?t[e.apiName]:""})),n=Object(c["computed"])((function(){var t=M["a"].fieldStatusMap[a.value.id];return t?t[e.apiName]:{}})),i=Object(c["computed"])((function(){var e=Object.values(n.value);return e.includes(F["a"].loading)?J["a"].loading:e.includes(F["a"].failed)?J["a"].incomplete:J["a"].completed})),d=Object(c["inject"])("changePanel"),u=function(){e.collapse&&d(e.apiName)},r=function(){};return{visible:t,com:a,apiConfig:o,apiDataConfig:s,fieldsStatus:n,totalStatus:i,datav_data:l,toggle:u,showDataSource:r}}});a("39ae");R.render=A,R.__scopeId="data-v-f4270d48";t["default"]=R}}]);
//# sourceMappingURL=chunk-c53e6e56.987302d1.js.map