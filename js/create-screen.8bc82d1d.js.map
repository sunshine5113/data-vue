{"version":3,"sources":["webpack:///./src/views/my-project/create-screen.vue","webpack:///./src/utils/get-scroll.ts","webpack:///./src/utils/animation.ts","webpack:///./src/views/my-project/create-screen.vue?aed2","webpack:///./src/views/my-project/create-screen.vue?70d3","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/api/project.ts","webpack:///./src/domains/project.ts","webpack:///./src/data/images.ts","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/views/my-project/create-screen.vue?dfab"],"names":["class","ref","type","spinning","loading","to","icon","confirmCreate","templates","tpl","idx","key","id","src","thumbnail","alt","previewTemplate","name","size","s","i","visibleCreateDialog","title","width","footer","saveLoading","doCreate","projectName","placeholder","spellcheck","groupId","groups","item","label","value","visiblePreviewDialog","template","togglePreviewTemplate","snapshot","prevPreviewTemplate","nextPreviewTemplate","style","getScroll","target","top","window","prop","method","isWindow","ret","document","documentElement","rAF","requestAnimationFrame","func","setTimeout","easeInOutCubic","t","b","c","d","cc","scrollToLeft","x","options","getContainer","callback","duration","container","scrollLeft","startTime","Date","now","frameFunc","timestamp","time","nextScrollLeft","scrollTo","pageYOffset","setup","bgCoverImg","router","scrollRef","res","data","code","then","push","map","findIndex","m","nidx","length","error","templateId","params","projectId","Error","message","format","render","__scopeId","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","getProjects","get","getProject","createProject","post","updateProjectName","put","deleteProject","delete","moveProject","fromId","toId","copyProject","createProjectGroup","deleteProjectGroup","updateProjectGroupName","getProjectTemplate","getPublishInfo","publishApp","getShareUrl","location","origin","ProjectGroupType","ProjectGroup","children","this","ungroup","bgImg","coverImg","dragImg","boxs","slice","repeat","decorates","position","$","$findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/create-screen.8bc82d1d.js","sourcesContent":["<template>\n  <g-loading type=\"square\" :spinning=\"loading\">\n    <div class=\"create-screen\">\n      <div class=\"top-bar\">\n        <div class=\"right-bar\"></div>\n        <div class=\"left-bar\"></div>\n        <router-link to=\"/\" class=\"return-btn\">\n          <span class=\"return-text\">\n            <i class=\"v-icon-back return-icon\"></i>\n            取消创建\n          </span>\n        </router-link>\n      </div>\n      <div class=\"creator-wp\">\n        <div class=\"template-list\">\n          <div class=\"template-item --blank\">\n            <div class=\"template-image\">\n              <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"confirmCreate(0)\">\n                创建项目\n              </el-button>\n            </div>\n            <div class=\"template-info\">\n              空白画板\n            </div>\n          </div>\n          <div v-for=\"(tpl, idx) in templates\" :key=\"tpl.id\" class=\"template-item\">\n            <div class=\"template-image\">\n              <img :src=\"tpl.thumbnail\" alt=\"\" class=\"preview-image\">\n              <div class=\"template-mask\">\n                <el-button type=\"primary\" class=\"create-btn\" @click=\"confirmCreate(tpl)\">\n                  创建项目\n                </el-button>\n                <el-button class=\"preview-btn\" @click=\"previewTemplate(tpl, idx)\">\n                  预览\n                </el-button>\n              </div>\n            </div>\n            <div class=\"template-info\">\n              <div class=\"template-name\">{{ tpl.name }}</div>\n              <div class=\"template-size\">\n                <p v-for=\"(s, i) in tpl.size\" :key=\"i\">{{ s }}</p>\n              </div>\n            </div>\n          </div>\n          <div v-for=\"i in 3\" :key=\"i\" class=\"template-item-placehoder\"></div>\n        </div>\n      </div>\n    </div>\n  </g-loading>\n\n  <el-dialog v-model=\"visibleCreateDialog\" title=\"创建数据大屏\" width=\"400px\">\n    <div class=\"create-dialog\">\n      <p class=\"name-title\">\n        <span class=\"required\">*</span>数据大屏名称\n      </p>\n      <g-input\n        v-model=\"projectName\"\n        placeholder=\"请输入大屏名称\"\n        spellcheck=\"false\"\n        class=\"name-input\"\n      />\n      <p class=\"name-title\">大屏分组</p>\n      <el-select v-model=\"groupId\" size=\"mini\" placeholder=\"请选择\">\n        <el-option\n          v-for=\"item in groups\"\n          :key=\"item.id\"\n          :label=\"item.name\"\n          :value=\"item.id\"\n        />\n      </el-select>\n    </div>\n    <template #footer>\n      <el-button @click=\"visibleCreateDialog = false\">取消</el-button>\n      <el-button type=\"primary\" :loading=\"saveLoading\" @click=\"doCreate\">\n        创建\n      </el-button>\n    </template>\n  </el-dialog>\n\n  <el-dialog v-model=\"visiblePreviewDialog\" title=\"预览\" width=\"897px\">\n    <div class=\"preview-dialog\">\n      <div class=\"preview-list\">\n        <p class=\"template-list-title\">模板列表</p>\n        <div class=\"blur-wp\">\n          <div ref=\"scrollRef\" class=\"scroll-wp\">\n            <div\n              v-for=\"(tpl, idx) in templates\"\n              :key=\"tpl.id\"\n              class=\"preview-wp\"\n              :class=\"{ selected: tpl.id === template.id }\"\n              @click=\"togglePreviewTemplate(tpl, idx)\"\n            >\n              <img :src=\"tpl.thumbnail\" class=\"preview-small-img\">\n              <div class=\"preview-screen-name\">{{ tpl.name }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"preview-gif\">\n        <div class=\"gif-wp\">\n          <img class=\"snapshot-gif\" :src=\"template.snapshot\">\n          <i class=\"el-icon-arrow-left prev-icon\" @click=\"prevPreviewTemplate\"></i>\n          <i class=\"el-icon-arrow-right next-icon\" @click=\"nextPreviewTemplate\"></i>\n        </div>\n        <div class=\"preview-create\">\n          <div class=\"create-dialog\">\n            <p class=\"name-title\">\n              <span class=\"required\">*</span>数据大屏名称\n            </p>\n            <g-input\n              v-model=\"projectName\"\n              placeholder=\"请输入大屏名称\"\n              spellcheck=\"false\"\n              class=\"name-input\"\n            />\n            <p class=\"name-title\">大屏分组</p>\n            <el-select v-model=\"groupId\" size=\"mini\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in groups\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\"\n              />\n            </el-select>\n          </div>\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            :loading=\"saveLoading\"\n            style=\"margin-top: 30px;\"\n            @click=\"doCreate\"\n          >\n            创建大屏 <i class=\"el-icon-arrow-right\"></i>\n          </el-button>\n        </div>\n      </div>\n    </div>\n  </el-dialog>\n</template>\n\n<script lang='ts'>\nimport { defineComponent, ref, onMounted, nextTick } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { coverImg } from '@/data/images'\nimport { ProjectGroup, ProjectTemplate } from '@/domains/project'\nimport { getProjectTemplate, getProjects, createProject } from '@/api/project'\nimport { MessageUtil } from '@/utils/message-util'\nimport { scrollToLeft } from '@/utils/animation'\n\nexport default defineComponent({\n  name: 'CreateScreen',\n  setup() {\n    const loading = ref(true)\n    const bgCoverImg = ref(coverImg)\n    const templates = ref<ProjectTemplate[]>([])\n\n    const visibleCreateDialog = ref(false)\n    const visiblePreviewDialog = ref(false)\n    const projectName = ref('')\n    const template = ref<Partial<ProjectTemplate>>({})\n    const groupId = ref(0)\n    const groups = ref([new ProjectGroup(0, '未分组')])\n    const saveLoading = ref(false)\n    const router = useRouter()\n    const scrollRef = ref<any>(null)\n\n    onMounted(async () => {\n      const res = await getProjectTemplate()\n      if (res.data.code === 0) {\n        loading.value = false\n        templates.value = res.data.data\n      }\n\n      getProjects()\n        .then(({ data }) => {\n          if (data.code === 0) {\n            groups.value.push(...data.data.map(({ id, name }: any) => ({ id, name })))\n          }\n        })\n    })\n\n    const confirmCreate = (tpl: ProjectTemplate) => {\n      template.value = tpl\n      visibleCreateDialog.value = true\n    }\n\n    const previewTemplate = (tpl: ProjectTemplate, idx: number) => {\n      template.value = tpl\n      visiblePreviewDialog.value = true\n\n      nextTick(() => {\n        togglePreviewTemplate(tpl, idx)\n      })\n    }\n\n    const togglePreviewTemplate = (tpl: ProjectTemplate, idx: number) => {\n      template.value = tpl\n      scrollToLeft(149 * idx - 350, {\n        getContainer: () => scrollRef.value,\n      })\n    }\n\n    const prevPreviewTemplate = () => {\n      const idx = templates.value.findIndex(m => m.id === template.value.id)\n      if (idx > 0) {\n        const nidx = idx - 1\n        const tpl = templates.value[nidx]\n        togglePreviewTemplate(tpl, nidx)\n      }\n    }\n\n    const nextPreviewTemplate = () => {\n      const idx = templates.value.findIndex(m => m.id === template.value.id)\n      if (idx < templates.value.length - 1) {\n        const nidx = idx + 1\n        const tpl = templates.value[nidx]\n        togglePreviewTemplate(tpl, nidx)\n      }\n    }\n\n    const doCreate = async () => {\n      try {\n        if (!projectName.value) {\n          MessageUtil.error('请输入大屏名称')\n          return\n        }\n        saveLoading.value = true\n        const res = await createProject({\n          name: projectName.value,\n          groupId: groupId.value,\n          templateId: template.value.id,\n        })\n        if (res.data.code === 0) {\n          visibleCreateDialog.value = false\n          visiblePreviewDialog.value = false\n          router.push({ name: 'Screen', params: { projectId: res.data.data } })\n        } else {\n          throw Error(res.data.message)\n        }\n      } catch (error) {\n        MessageUtil.error(MessageUtil.format(error))\n      } finally {\n        saveLoading.value = false\n      }\n    }\n\n    return {\n      loading,\n      bgCoverImg,\n      templates,\n      visibleCreateDialog,\n      visiblePreviewDialog,\n      projectName,\n      template,\n      groupId,\n      groups,\n      saveLoading,\n      scrollRef,\n      confirmCreate,\n      previewTemplate,\n      togglePreviewTemplate,\n      prevPreviewTemplate,\n      nextPreviewTemplate,\n      doCreate,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/styles/themes/var';\n\n@font-face {\n  font-family: \"Orbitron-Bold\";\n  src: url('../../styles/fonts/orbitron-bold.ttf') format('truetype'),\n    url('../../styles/fonts/orbitron-bold.otf') format('opentype');\n}\n\n@mixin cover-img {\n  content: '';\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: #131e2d;\n  background-image: url(//files.pengxiaotian.com/datav/datav-vue-logo.png);\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 50%;\n  filter: grayscale(1);\n  opacity: 0.36;\n}\n\n.create-screen {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: rgba(0, 51, 125, 0.07);\n  margin: 0;\n  padding: 0;\n  user-select: none;\n\n  .top-bar {\n    height: 50px;\n    width: 100%;\n    position: relative;\n\n    &::before {\n      content: ' ';\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      height: 20px;\n      width: 100%;\n      background: #151b22;\n    }\n\n    .right-bar {\n      position: absolute;\n      left: 150px;\n      top: 20px;\n      height: 5px;\n      width: 100%;\n      border-top: $border-primary;\n      border-left: 2px solid $color-primary;\n      background: rgba(55, 126, 255, 0.04);\n      border-top-left-radius: 5px;\n      transform: skewX(-45deg);\n      box-shadow: 0 5px 28px 0 rgba(55, 126, 255, 0.28);\n    }\n\n    .left-bar {\n      position: absolute;\n      left: 0;\n      top: 24px;\n      height: 25px;\n      width: 138px;\n      border-right: 2px solid $color-primary;\n      border-bottom: $border-primary;\n      transform: skewX(-45deg);\n      border-bottom-right-radius: 5px;\n      box-shadow: 0 5px 28px 0 rgba(55, 126, 255, 0.28);\n    }\n\n    .return-btn {\n      position: absolute;\n      left: -31px;\n      top: 0;\n      width: 180px;\n      height: 48px;\n      line-height: 48px;\n      text-align: center;\n      background: #151b22;\n      cursor: pointer;\n      transform: skewX(-45deg);\n      border-bottom-right-radius: 5px;\n\n      .return-text {\n        display: inline-block;\n        color: #fff;\n        font-size: 14px;\n        margin-left: 10px;\n        transform: skewX(45deg);\n        transition: 0.2s;\n\n        &:hover {\n          color: $color-primary;\n        }\n      }\n\n      .return-icon {\n        margin-right: 5px;\n      }\n    }\n  }\n\n  .creator-wp {\n    flex: 1;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 0 30px;\n\n    .template-list {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n      overflow-x: hidden;\n      overflow-y: scroll;\n      color: #fff;\n      font-size: 12px;\n      margin: 0 -16px;\n      padding-bottom: 100px;\n      padding-top: 60px;\n\n      .template-item {\n        width: 258px;\n        height: 184px;\n        box-shadow: $shadow;\n        border: $border;\n        margin: 16px;\n        transition: 0.2s;\n        outline: 1px solid transparent;\n        cursor: default;\n\n        .template-image {\n          width: 100%;\n          height: 146px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: 0.2s;\n          position: relative;\n        }\n\n        .template-info {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 10px;\n          height: 36px;\n          background: $background-dark-color;\n          transition: 0.2s;\n        }\n\n        &.--blank {\n          position: relative;\n          outline: $border-primary;\n\n          .template-image {\n            box-shadow: inset 0 0 46px 0 rgba(136, 215, 255, 0.29);\n          }\n\n          .template-info {\n            border-top: $border-primary;\n            justify-content: center;\n            font-size: 14px;\n          }\n        }\n      }\n\n      .preview-image {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        position: relative;\n\n        &::after {\n          @include cover-img;\n        }\n      }\n\n      .template-mask {\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(0, 0, 0, 0.5);\n        transition: 0.2s;\n        pointer-events: none;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        opacity: 0;\n        font-weight: 400;\n\n        .create-btn {\n          width: 112px;\n          padding: 0 5px;\n        }\n\n        .preview-btn {\n          margin-top: 10px;\n          width: 112px;\n          padding: 0 5px;\n          margin-left: 0;\n        }\n      }\n\n      .template-item:hover {\n        outline: $border-primary;\n\n        .template-mask {\n          pointer-events: all;\n          opacity: 1;\n        }\n      }\n\n      .template-name {\n        font-size: 12px;\n      }\n\n      .template-size {\n        color: #999;\n        text-align: right;\n        font-family: Orbitron-Bold, PingFangSC-Medium, PingFang SC, Microsoft YaHei, Arial, Helvetica, sans-serif;\n      }\n\n      .template-item-placehoder {\n        width: 258px;\n        margin: 16px;\n      }\n    }\n  }\n}\n\n.create-dialog {\n  .required {\n    display: inline-block;\n    margin-right: 6px;\n    color: $color-error;\n  }\n\n  .name-title {\n    margin-bottom: 10px;\n  }\n\n  .name-input {\n    margin-bottom: 15px;\n    height: 28px;\n    line-height: 26px;\n  }\n}\n\n@mixin slider-blur($placement: left, $angle: -90deg) {\n  content: ' ';\n  position: absolute;\n  top: 0;\n  #{$placement}: 0;\n  background-image: linear-gradient(\n    #{$angle},\n    rgba(0, 0, 0, 0) 64%,\n    #303640 100%\n  );\n  width: 82px;\n  height: 96px;\n  pointer-events: none;\n  z-index: 1;\n}\n\n.preview-dialog {\n  .preview-list {\n    width: 897px;\n    height: 186px;\n    margin-top: -57px;\n    margin-left: -20px;\n    background: $dialog-bgcolor;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    .template-list-title {\n      font-size: 12px;\n      margin: 50px 0 15px 30px;\n    }\n  }\n\n  .blur-wp {\n    position: relative;\n    margin: 0 24px;\n\n    &::before {\n      @include slider-blur();\n    }\n\n    &::after {\n      @include slider-blur(right, 90deg);\n    }\n  }\n\n  .scroll-wp {\n    white-space: nowrap;\n    overflow-x: scroll;\n    padding-bottom: 8px;\n\n    &::-webkit-scrollbar-thumb {\n      background: $color-primary;\n      border-radius: 5px;\n      border: none;\n    }\n  }\n\n  .preview-wp {\n    position: relative;\n    font-size: 0;\n    width: 137px;\n    height: 97px;\n    overflow: hidden;\n    display: inline-block;\n    margin: 0 6px;\n    cursor: pointer;\n    border: 1px solid rgba(123, 123, 123, 0.25);\n    transition: 0.2s;\n\n    .preview-small-img {\n      display: block;\n      width: 100%;\n      height: 76px;\n      object-fit: cover;\n      position: relative;\n\n      &::after {\n        @include cover-img;\n      }\n    }\n\n    .preview-screen-name {\n      font-size: 12px;\n      line-height: 19px;\n      background: $background-dark-color;\n      padding: 0 5px;\n      font-weight: 300;\n    }\n\n    &:hover,\n    &.selected {\n      border-color: $color-primary;\n    }\n  }\n\n  .preview-gif {\n    height: 420px;\n    display: flex;\n    padding: 30px 10px 50px 10px;\n\n    .gif-wp {\n      width: 610px;\n      position: relative;\n\n      .snapshot-gif {\n        width: 100%;\n        height: 100%;\n        display: block;\n        position: relative;\n        border: $border;\n        box-shadow: $shadow;\n\n        &::after {\n          @include cover-img();\n        }\n      }\n\n      .next-icon,\n      .prev-icon {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        padding: 5px;\n        border-radius: 50%;\n        margin: 10px;\n        font-weight: 600;\n        background: rgba(255, 255, 255, 0.2);\n        color: rgba(255, 255, 255, 0.8);\n        cursor: pointer;\n        transition: 0.2s;\n\n        &:hover {\n          color: #fff;\n          background: rgba(255, 255, 255, 0.3);\n        }\n      }\n\n      .next-icon {\n        right: 0;\n      }\n    }\n\n    .preview-create {\n      flex: 1;\n      overflow: hidden;\n      padding-left: 20px;\n    }\n  }\n}\n</style>\n","export default function getScroll(target: any, top: Boolean): number {\n  if (typeof window === 'undefined') {\n    return 0\n  }\n\n  const prop = top ? 'pageYOffset' : 'pageXOffset'\n  const method = top ? 'scrollTop' : 'scrollLeft'\n  const isWindow = target === window\n\n  let ret = isWindow ? target[prop] : target[method]\n  // ie6,7,8 standard mode\n  if (isWindow && typeof ret !== 'number') {\n    ret = window.document.documentElement[method]\n  }\n\n  return ret\n}\n","import getScroll from './get-scroll'\n\nexport const rAF = window.requestAnimationFrame || (func => setTimeout(func, 16))\n\nexport function easeInOutCubic(t: number, b: number, c: number, d: number) {\n  const cc = c - b\n  t /= d / 2\n  if (t < 1) {\n    return (cc / 2) * t * t * t + b\n  }\n  return (cc / 2) * ((t -= 2) * t * t + 2) + b\n}\n\ninterface ScrollToOptions {\n  /** Scroll container, default as window */\n  getContainer?: () => HTMLElement | Window\n  /** Scroll end callback */\n  callback?: () => any\n  /** Animation duration, default as 450 */\n  duration?: number\n}\n\nexport function scrollToTop(y: number, options: ScrollToOptions = {}) {\n  const { getContainer = () => window, callback, duration = 450 } = options\n\n  const container = getContainer()\n  const scrollTop = getScroll(container, true)\n  const startTime = Date.now()\n\n  const frameFunc = () => {\n    const timestamp = Date.now()\n    const time = timestamp - startTime\n    const nextScrollTop = easeInOutCubic(time > duration ? duration : time, scrollTop, y, duration)\n    if (container === window) {\n      window.scrollTo(window.pageXOffset, nextScrollTop)\n    } else {\n      (container as HTMLElement).scrollTop = nextScrollTop\n    }\n    if (time < duration) {\n      rAF(frameFunc)\n    } else if (typeof callback === 'function') {\n      callback()\n    }\n  }\n  rAF(frameFunc)\n}\n\nexport function scrollToLeft(x: number, options: ScrollToOptions = {}) {\n  const { getContainer = () => window, callback, duration = 450 } = options\n\n  const container = getContainer()\n  const scrollLeft = getScroll(container, false)\n  const startTime = Date.now()\n\n  const frameFunc = () => {\n    const timestamp = Date.now()\n    const time = timestamp - startTime\n    const nextScrollLeft = easeInOutCubic(time > duration ? duration : time, scrollLeft, x, duration)\n    if (container === window) {\n      window.scrollTo(nextScrollLeft, window.pageYOffset)\n    } else {\n      (container as HTMLElement).scrollLeft = nextScrollLeft\n    }\n    if (time < duration) {\n      rAF(frameFunc)\n    } else if (typeof callback === 'function') {\n      callback()\n    }\n  }\n  rAF(frameFunc)\n}\n","\nimport { defineComponent, ref, onMounted, nextTick } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { coverImg } from '@/data/images'\nimport { ProjectGroup, ProjectTemplate } from '@/domains/project'\nimport { getProjectTemplate, getProjects, createProject } from '@/api/project'\nimport { MessageUtil } from '@/utils/message-util'\nimport { scrollToLeft } from '@/utils/animation'\n\nexport default defineComponent({\n  name: 'CreateScreen',\n  setup() {\n    const loading = ref(true)\n    const bgCoverImg = ref(coverImg)\n    const templates = ref<ProjectTemplate[]>([])\n\n    const visibleCreateDialog = ref(false)\n    const visiblePreviewDialog = ref(false)\n    const projectName = ref('')\n    const template = ref<Partial<ProjectTemplate>>({})\n    const groupId = ref(0)\n    const groups = ref([new ProjectGroup(0, '未分组')])\n    const saveLoading = ref(false)\n    const router = useRouter()\n    const scrollRef = ref<any>(null)\n\n    onMounted(async () => {\n      const res = await getProjectTemplate()\n      if (res.data.code === 0) {\n        loading.value = false\n        templates.value = res.data.data\n      }\n\n      getProjects()\n        .then(({ data }) => {\n          if (data.code === 0) {\n            groups.value.push(...data.data.map(({ id, name }: any) => ({ id, name })))\n          }\n        })\n    })\n\n    const confirmCreate = (tpl: ProjectTemplate) => {\n      template.value = tpl\n      visibleCreateDialog.value = true\n    }\n\n    const previewTemplate = (tpl: ProjectTemplate, idx: number) => {\n      template.value = tpl\n      visiblePreviewDialog.value = true\n\n      nextTick(() => {\n        togglePreviewTemplate(tpl, idx)\n      })\n    }\n\n    const togglePreviewTemplate = (tpl: ProjectTemplate, idx: number) => {\n      template.value = tpl\n      scrollToLeft(149 * idx - 350, {\n        getContainer: () => scrollRef.value,\n      })\n    }\n\n    const prevPreviewTemplate = () => {\n      const idx = templates.value.findIndex(m => m.id === template.value.id)\n      if (idx > 0) {\n        const nidx = idx - 1\n        const tpl = templates.value[nidx]\n        togglePreviewTemplate(tpl, nidx)\n      }\n    }\n\n    const nextPreviewTemplate = () => {\n      const idx = templates.value.findIndex(m => m.id === template.value.id)\n      if (idx < templates.value.length - 1) {\n        const nidx = idx + 1\n        const tpl = templates.value[nidx]\n        togglePreviewTemplate(tpl, nidx)\n      }\n    }\n\n    const doCreate = async () => {\n      try {\n        if (!projectName.value) {\n          MessageUtil.error('请输入大屏名称')\n          return\n        }\n        saveLoading.value = true\n        const res = await createProject({\n          name: projectName.value,\n          groupId: groupId.value,\n          templateId: template.value.id,\n        })\n        if (res.data.code === 0) {\n          visibleCreateDialog.value = false\n          visiblePreviewDialog.value = false\n          router.push({ name: 'Screen', params: { projectId: res.data.data } })\n        } else {\n          throw Error(res.data.message)\n        }\n      } catch (error) {\n        MessageUtil.error(MessageUtil.format(error))\n      } finally {\n        saveLoading.value = false\n      }\n    }\n\n    return {\n      loading,\n      bgCoverImg,\n      templates,\n      visibleCreateDialog,\n      visiblePreviewDialog,\n      projectName,\n      template,\n      groupId,\n      groups,\n      saveLoading,\n      scrollRef,\n      confirmCreate,\n      previewTemplate,\n      togglePreviewTemplate,\n      prevPreviewTemplate,\n      nextPreviewTemplate,\n      doCreate,\n    }\n  },\n})\n","import { render } from \"./create-screen.vue?vue&type=template&id=3fa34210&scoped=true\"\nimport script from \"./create-screen.vue?vue&type=script&lang=ts\"\nexport * from \"./create-screen.vue?vue&type=script&lang=ts\"\n\nimport \"./create-screen.vue?vue&type=style&index=0&id=3fa34210&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3fa34210\"\n\nexport default script","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import request from '@/utils/request'\n\nexport function getProjects() {\n  return request.get('/project')\n}\n\nexport function getProject(id: number) {\n  return request.get(`/project/${id}`)\n}\n\nexport function createProject(data: any) {\n  return request.post('/project', data)\n}\n\nexport function updateProjectName(id: number, name: string) {\n  return request.put(`/project/${id}/name`, { name })\n}\n\nexport function deleteProject(id: number) {\n  return request.delete(`/project/${id}`)\n}\n\nexport function moveProject(id: number, fromId: number, toId: number) {\n  return request.put(`/project/${id}/group`, { fromId, toId })\n}\n\nexport function copyProject(id: number) {\n  return request.post(`/project/${id}/copy`)\n}\n\nexport function createProjectGroup(data: any) {\n  return request.post('/project/group', data)\n}\n\nexport function deleteProjectGroup(id: number) {\n  return request.delete(`/project/group/${id}`)\n}\n\nexport function updateProjectGroupName(id: number, name: string) {\n  return request.put(`/project/group/${id}/name`, { name })\n}\n\nexport function getProjectTemplate() {\n  return request.get('/project/template')\n}\n\nexport function getPublishInfo(id: number) {\n  return request.get(`/project/${id}/publish`)\n}\n\nexport function publishApp(id: number, data: any) {\n  return request.post(`/project/${id}/publish`, data)\n}\n\nexport function getShareUrl(id: number) {\n  return `${window.location.origin + '/screen/' + id}`\n}\n","export enum ProjectGroupType {\n  ungroup = 0,\n  group = 1\n}\n\nexport interface ProjectConfig {\n  width: number\n  height: number\n  bgcolor: string\n  bgimage: string\n  grid: number\n  screenshot: string\n  zoomMode: number\n  useWatermark: boolean\n}\n\nexport interface Project {\n  id: number\n  name: string\n  share: string\n  groupId: number\n  config: ProjectConfig\n  createAt: string\n  updateAt: string\n}\n\nexport class ProjectGroup {\n  id: number\n  name: string\n  type: ProjectGroupType\n  children: Project[]\n\n  constructor(id = 0, name = '', children: Project[] = []) {\n    this.id = id\n    this.name = name\n    this.children = children\n    this.type = ProjectGroupType.ungroup\n  }\n}\n\nexport interface ProjectTemplate {\n  id: number\n  name: string\n  size: String[]\n  snapshot: string\n  thumbnail: string\n}\n","// 背景图\nconst bgImg = `${process.env.VUE_APP_QINIU_FILE}/datav/bj.png`\n\n// 封面图\nconst coverImg = `${process.env.VUE_APP_QINIU_FILE}/datav/datav-vue-logo.png`\n\n// 拖拽图\nconst dragImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABQCAMAAADVyVCaAAAAM1BMVEVHcEwXvP8b1/8TV20UQVEZzf8Tn/8UiaMWqc4VkrEZw/AWsv8Vj7EUqf8YuOITRFYViKUfZVF5AAAACnRSTlMA////////Jt+CR+EzygAAAL9JREFUWMPt2FsOwjAMRNGGuKX0kbL/1bIBQv0YR0Kau4Ejz0+kTBNjjLGxPTptTxwh33uv6cTVXtmEVNhUXQI31dwlYFP1CdhUPwg51nQCNNWMyH+FNhIkhhIFQBQSUltNJup2JF+hEyKEUggQWsFPqAU3oRe8hEFwEhbhjtjjguweopVeMGLAFTbDR5gMJ2ExvITBcBN6w0+ojRviBLwXZ4BQGiFC93bHCEkfisRIYvkPYiGBIRDx/5Mxxsb2AVpUNS9SI1eoAAAAAElFTkSuQmCC'\n\nconst boxs = [\n  {\n    id: 1, src: `box1-126-154.png`, width: [71, 23], slice: [], repeat: 'initial',\n  },\n  {\n    id: 2, src: `box2-79-67.png`, width: [32, 37], slice: ['fill'], repeat: 'initial',\n  },\n  {\n    id: 3, src: `box3-116-115.png`, width: [14], slice: ['fill'], repeat: 'initial',\n  },\n  {\n    id: 4, src: `box4-241-138.png`, width: [14, 100], slice: [], repeat: 'initial',\n  },\n  {\n    id: 5, src: `box5-689-232.png`, width: [46, 305, 117, 33], slice: ['fill'], repeat: 'repeat',\n  },\n  {\n    id: 6, src: `box6-484-101.png`, width: [45, 103, 51, 29], slice: ['fill'], repeat: 'repeat',\n  },\n  {\n    id: 7, src: `box7-986-212.png`, width: [29, 107, 109, 16], slice: ['fill'], repeat: 'repeat',\n  },\n  {\n    id: 8, src: `box8-492-335.png`, width: [15, 11, 16, 8], slice: ['fill'], repeat: 'repeat',\n  },\n  {\n    id: 9, src: `box9-731-407.png`, width: [152, 27, 127, 354], slice: ['fill'], repeat: 'repeat',\n  },\n  {\n    id: 10, src: `box10-524-282.png`, width: [56, 4, 76, 393], slice: ['fill'], repeat: 'repeat',\n  },\n  {\n    id: 11, src: `box11-592-131.png`, width: [17, 24, 18, 19], slice: ['fill'], repeat: 'repeat',\n  },\n]\n\nconst decorates = [\n  {\n    id: 1, src: `deco1-1920-1080.gif`, size: '100%', position: 'left bottom',\n  },\n  {\n    id: 2, src: `deco2-1920-1080.gif`, size: '100%', position: 'center center',\n  },\n  {\n    id: 3, src: `deco3-1080-824.gif`, size: '100%', position: 'right top',\n  },\n  {\n    id: 4, src: `deco4-1080-824.gif`, size: '100%', position: 'right bottom',\n  },\n  {\n    id: 5, src: `deco5-1920-1080.gif`, size: '100%', position: 'left top',\n  },\n  {\n    id: 6, src: `deco6-1626-356.gif`, size: '100%', position: 'center center',\n  },\n  {\n    id: 7, src: `deco7-94-1461.gif`, size: 'contain', position: 'left top',\n  },\n  {\n    id: 8, src: `deco8-500-54.gif`, size: 'contain', position: 'left top',\n  },\n  {\n    id: 9, src: `deco9-500-64.gif`, size: 'contain', position: 'left top',\n  },\n  {\n    id: 10, src: `deco10-782-259.gif`, size: 'contain', position: 'left top',\n  },\n  {\n    id: 11, src: `deco11-58-36.png`, size: '100%', position: 'center center',\n  },\n  {\n    id: 12, src: `deco12-58-36.png`, size: '100%', position: 'center center',\n  },\n]\n\nconst boxImgs = boxs.map(m => ({\n  ...m,\n  src: `${process.env.VUE_APP_QINIU_FILE}/box/${m.src}`,\n  slice: [...m.width, ...m.slice],\n}))\n\nconst decorateImgs = decorates.map(m => ({\n  ...m,\n  src: `${process.env.VUE_APP_QINIU_FILE}/decoration/${m.src}`,\n}))\n\nexport {\n  bgImg,\n  coverImg,\n  dragImg,\n  boxImgs,\n  decorateImgs,\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./create-screen.vue?vue&type=style&index=0&id=3fa34210&lang=scss&scoped=true\""],"sourceRoot":""}